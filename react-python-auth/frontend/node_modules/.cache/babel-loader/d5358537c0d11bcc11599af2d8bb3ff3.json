{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pavan\\\\OneDrive\\\\Desktop\\\\ba-tool\\\\react-python-auth\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  var _projects$selectedSea, _projects$selectedSea2;\n  const [user, setUser] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [totalProjects, setTotalProjects] = useState(0);\n  const [completedProjects, setCompletedProjects] = useState(0);\n  const [isCreatingProject, setIsCreatingProject] = useState(false);\n  const [projectName, setProjectName] = useState(\"\");\n  const [savedProjectName, setSavedProjectName] = useState(\"\");\n  const [selectedModule, setSelectedModule] = useState(\"BRD Generation\");\n  const [documentGenerator, setDocumentGenerator] = useState(\"\");\n  const MODULES = [\"BRD Generation\", \"FRD Generation\", \"SRS Generation\", \"Impact Analysis\", \"Requirement Priortization\", \"Wireframe Generator\", \"Prototype Generator\"];\n  const DOC_OPTIONS = [\"BRD Creation\", \"FRD Creation\", \"SRS Creation\", \"Impact Analysis\", \"Requirement Priortization\", \"Wire Frame Generator\", \"Prototype Generator\"];\n  const STORAGE_KEY = \"ba_projects_v1\";\n  const [projects, setProjects] = useState(() => {\n    try {\n      const raw = localStorage.getItem(STORAGE_KEY);\n      return raw ? JSON.parse(raw) : {};\n    } catch {\n      return {};\n    }\n  });\n  const [brdInputs, setBrdInputs] = useState({\n    scope: \"\",\n    objectives: \"\",\n    budget: \"\",\n    briefRequirements: \"\",\n    assumptions: \"\",\n    constraints: \"\",\n    validations: \"\"\n  });\n  const [frdInputs, setFrdInputs] = useState({\n    brdText: \"\"\n  });\n  const [brdPreviewHtml, setBrdPreviewHtml] = useState(\"\");\n  const [brdPreviewVersion, setBrdPreviewVersion] = useState(null);\n  const [brdPreviewVisible, setBrdPreviewVisible] = useState(false);\n  const [frdPreviewHtml, setFrdPreviewHtml] = useState(\"\");\n  const [frdPreviewVersion, setFrdPreviewVersion] = useState(null);\n  const [frdPreviewVisible, setFrdPreviewVisible] = useState(false);\n  const [frdLoading, setFrdLoading] = useState(false);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedSearchProject, setSelectedSearchProject] = useState(\"\");\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(projects));\n    const total = Object.keys(projects).length;\n    const approvedCount = Object.values(projects).reduce((acc, p) => {\n      return acc + (p.documents ? p.documents.filter(d => d.approved).length : 0);\n    }, 0);\n    setTotalProjects(total);\n    setCompletedProjects(approvedCount);\n  }, [projects]);\n  const updateBrdInput = (k, v) => setBrdInputs(s => ({\n    ...s,\n    [k]: v\n  }));\n  const updateFrdInput = (k, v) => setFrdInputs(s => ({\n    ...s,\n    [k]: v\n  }));\n  const closeBrdPreview = () => {\n    setBrdPreviewVisible(false);\n    setBrdPreviewHtml(\"\");\n    setBrdPreviewVersion(null);\n  };\n  const closeFrdPreview = () => {\n    setFrdPreviewVisible(false);\n    setFrdPreviewHtml(\"\");\n    setFrdPreviewVersion(null);\n  };\n  const downloadAsWord = (htmlContent, filename) => {\n    try {\n      const preface = `<!DOCTYPE html><html><head><meta charset=\"utf-8\"><title>${filename}</title></head><body>`;\n      const blob = new Blob([preface + htmlContent + \"</body></html>\"], {\n        type: \"application/msword\"\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = filename.endsWith(\".doc\") ? filename : filename + \".doc\";\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      URL.revokeObjectURL(url);\n    } catch (err) {\n      setMsg(\"Failed to download document.\");\n      setTimeout(() => setMsg(\"\"), 2000);\n    }\n  };\n  const detectBusinessDomain = (inputs, project) => {\n    // Combine all relevant text for intelligent domain analysis\n    const allContent = [project || \"\", inputs.briefRequirements || \"\", inputs.requirements || \"\", inputs.scope || \"\", inputs.objectives || \"\", inputs.assumptions || \"\", inputs.constraints || \"\"].join(\" \").toLowerCase();\n    console.log(\"ü§ñ AI Domain Analysis for content:\", allContent.substring(0, 200) + \"...\");\n\n    // Financial/Banking Domain Detection\n    const financialKeywords = ['bank', 'banking', 'finance', 'financial', 'account', 'transaction', 'payment', 'credit', 'debit', 'loan', 'invoice', 'billing', 'accounting', 'journal', 'ledger', 'reconciliation', 'audit', 'compliance', 'regulatory', 'gl', 'p&l', 'balance sheet', 'cash flow', 'revenue', 'expense', 'asset', 'liability', 'equity'];\n    const financialScore = financialKeywords.filter(keyword => allContent.includes(keyword)).length;\n\n    // Marketing Domain Detection  \n    const marketingKeywords = ['marketing', 'campaign', 'email', 'customer', 'lead', 'prospect', 'automation', 'crm', 'sales', 'communication', 'newsletter', 'promotion', 'advertising', 'brand', 'social media', 'engagement', 'conversion', 'funnel', 'roi', 'analytics', 'tracking', 'segment', 'target audience', 'personalization'];\n    const marketingScore = marketingKeywords.filter(keyword => allContent.includes(keyword)).length;\n\n    // Healthcare Domain Detection\n    const healthcareKeywords = ['health', 'healthcare', 'patient', 'medical', 'hospital', 'clinic', 'doctor', 'nurse', 'treatment', 'diagnosis', 'medication', 'prescription', 'hipaa', 'ehr', 'emr', 'appointment', 'billing', 'insurance', 'claim'];\n    const healthcareScore = healthcareKeywords.filter(keyword => allContent.includes(keyword)).length;\n\n    // E-commerce Domain Detection\n    const ecommerceKeywords = ['ecommerce', 'e-commerce', 'online store', 'shopping', 'cart', 'checkout', 'product', 'inventory', 'order', 'shipping', 'payment gateway', 'catalog', 'customer', 'purchase', 'retail', 'marketplace'];\n    const ecommerceScore = ecommerceKeywords.filter(keyword => allContent.includes(keyword)).length;\n    console.log(\"üîç Domain Scores:\", {\n      financial: financialScore,\n      marketing: marketingScore,\n      healthcare: healthcareScore,\n      ecommerce: ecommerceScore\n    });\n\n    // Return the domain with highest score (minimum 2 keywords to avoid false positives)\n    const scores = [{\n      domain: 'marketing',\n      score: marketingScore\n    }, {\n      domain: 'financial',\n      score: financialScore\n    }, {\n      domain: 'healthcare',\n      score: healthcareScore\n    }, {\n      domain: 'ecommerce',\n      score: ecommerceScore\n    }];\n    const topDomain = scores.reduce((max, current) => current.score > max.score ? current : max);\n    if (topDomain.score >= 2) {\n      console.log(\"‚úÖ AI DETECTED DOMAIN:\", topDomain.domain.toUpperCase());\n      return topDomain.domain;\n    }\n    console.log(\"‚ùì Domain unclear, using generic validation\");\n    return 'generic';\n  };\n  const getValidationCriteria = (inputs, project) => {\n    console.log(\"üîç getValidationCriteria called with:\", {\n      inputs,\n      project\n    });\n\n    // Always use AI domain detection, ignore user validation for now to test the intelligence\n    const detectedDomain = detectBusinessDomain(inputs, project);\n\n    // Generate domain-specific validation based on AI detection\n    switch (detectedDomain) {\n      case 'marketing':\n        return `‚Ä¢ Enforce customer consent validation for communication preferences<br/>\n‚Ä¢ Validate email address format and deliverability standards<br/>\n‚Ä¢ Implement campaign performance tracking and attribution models<br/>\n‚Ä¢ Enforce A/B testing validation for campaign optimization<br/>\n‚Ä¢ Validate lead scoring and segmentation accuracy<br/>\n‚Ä¢ Ensure GDPR compliance for customer data processing`;\n      case 'financial':\n        return `‚Ä¢ Enforce multi-level approval workflows for financial transactions<br/>\n‚Ä¢ Validate accounting equation balance (Assets = Liabilities + Equity)<br/>\n‚Ä¢ Implement audit trail requirements for all financial entries<br/>\n‚Ä¢ Enforce regulatory compliance checks (SOX, GAAP)<br/>\n‚Ä¢ Validate currency conversion and rounding rules<br/>\n‚Ä¢ Implement segregation of duties for financial operations`;\n      case 'healthcare':\n        return `‚Ä¢ Enforce HIPAA compliance for patient data protection<br/>\n‚Ä¢ Validate medical record integrity and audit trails<br/>\n‚Ä¢ Implement patient consent validation for treatments<br/>\n‚Ä¢ Enforce prescription and medication safety checks<br/>\n‚Ä¢ Validate provider credentials and licensing<br/>\n‚Ä¢ Implement emergency access protocols for patient data`;\n      case 'ecommerce':\n        return `‚Ä¢ Validate inventory levels before order confirmation<br/>\n‚Ä¢ Enforce payment gateway security and PCI compliance<br/>\n‚Ä¢ Implement order fulfillment and shipping validation<br/>\n‚Ä¢ Validate product pricing and discount calculations<br/>\n‚Ä¢ Enforce customer authentication and fraud detection<br/>\n‚Ä¢ Implement return and refund policy validation`;\n      default:\n        return `‚Ä¢ Validate data integrity and consistency across all modules<br/>\n‚Ä¢ Implement user authentication and authorization controls<br/>\n‚Ä¢ Enforce business rule validation and exception handling<br/>\n‚Ä¢ Validate system performance and scalability requirements<br/>\n‚Ä¢ Implement audit logging for all critical operations<br/>\n‚Ä¢ Enforce data backup and disaster recovery procedures`;\n    }\n    if (projectLower.includes(\"healthcare\") || projectLower.includes(\"patient\") || projectLower.includes(\"medical\")) {\n      return `‚Ä¢ Enforce mandatory patient demographic fields (name, DOB, SSN)<br/>\n‚Ä¢ Validate medical record privacy and HIPAA compliance<br/>\n‚Ä¢ Require physician authorization for prescription access<br/>\n‚Ä¢ Enforce audit trails for all patient data modifications`;\n    }\n    if (projectLower.includes(\"banking\") || projectLower.includes(\"financial\") || projectLower.includes(\"payment\")) {\n      return `‚Ä¢ Enforce strong customer authentication and account verification<br/>\n‚Ä¢ Validate transaction limits and fraud detection rules<br/>\n‚Ä¢ Require regulatory compliance with banking standards<br/>\n‚Ä¢ Enforce real-time balance verification before transactions`;\n    }\n    if (projectLower.includes(\"ecommerce\") || projectLower.includes(\"shopping\") || projectLower.includes(\"order\")) {\n      return `‚Ä¢ Enforce product inventory validation before order confirmation<br/>\n‚Ä¢ Validate shipping address and payment method accuracy<br/>\n‚Ä¢ Require secure checkout process with payment verification<br/>\n‚Ä¢ Enforce order tracking and delivery confirmation`;\n    }\n\n    // Default professional validation criteria\n    return `‚Ä¢ Enforce data accuracy and completeness validation<br/>\n‚Ä¢ Validate user access controls and authentication<br/>\n‚Ä¢ Require audit trails for all system modifications<br/>\n‚Ä¢ Enforce security protocols and compliance standards`;\n  };\n  const generateBrdHtml = ({\n    project,\n    inputs,\n    version\n  }) => {\n    const idxItems = [\"Executive Summary\", \"Project Scope\", \"Business Objectives\", \"Budget Details\", \"Business Requirements\", \"Assumptions\", \"Constraints\", \"Validations & Acceptance Criteria\", \"Appendices\"];\n    const html = `\n      <div style=\"font-family:Calibri, Arial, Helvetica, sans-serif;color:#111827;line-height:1.45;padding:18px;\">\n        <h1 style=\"text-align:center;margin-bottom:6px;\">Business Requirement Document (BRD)</h1>\n        <h2 style=\"text-align:center;margin-top:2px;\">${project} ‚Äî BRD Version-${version}</h2>\n        <hr/>\n        <h3>Document Index</h3>\n        <ol>\n          ${idxItems.map(i => `<li>${i}</li>`).join(\"\")}\n        </ol>\n\n        <h2>1. Executive Summary</h2>\n        <p>This document captures the business requirements for the project <strong>${project}</strong>. It follows standard BA practice aligned to BABOK and provides the scope, objectives, requirements, budget and validations required for delivering the solution.</p>\n\n        <h2>2. Project Scope</h2>\n        <p>${(inputs.scope || \"\").replace(/\\n/g, \"<br/>\")}</p>\n\n        <h2>3. Business Objectives</h2>\n        <p>${(inputs.objectives || \"\").replace(/\\n/g, \"<br/>\")}</p>\n\n        <h2>4. Budget Details</h2>\n        <p>${(inputs.budget || \"\").replace(/\\n/g, \"<br/>\")}</p>\n\n        <h2>5. Business Requirements (EPIC Format)</h2>\n        ${formatRequirementsAsEpics(inputs.briefRequirements || \"\", project)}\n\n        <h2>6. Assumptions</h2>\n        <p>${(inputs.assumptions || \"\").replace(/\\n/g, \"<br/>\")}</p>\n\n        <h2>7. Constraints</h2>\n        <p>${(inputs.constraints || \"\").replace(/\\n/g, \"<br/>\")}</p>\n\n        <h2>8. Validations & Acceptance Criteria</h2>\n        <p>ü§ñ AI DOMAIN DETECTION ACTIVE - ${getValidationCriteria(inputs, project)}</p>\n\n        <h2>9. Appendices</h2>\n        <p>Appendix A: Glossary<br/>Appendix B: References</p>\n\n        <hr/>\n        <p style=\"font-size:11px;color:#6b7280;\">Generated by BA Assistant Tool</p>\n      </div>\n    `;\n    return html;\n  };\n\n  // STANDALONE FRD GENERATION - Convert BRD to FRD with EPIC formatting\n  const generateFrdFromBrd = (brdText, project, version) => {\n    // Extract business domain from BRD text\n    const domain = detectDomainFromBrdText(brdText);\n\n    // Parse requirements from BRD to create EPICs and User Stories\n    const requirements = extractRequirementsFromBrd(brdText);\n    const epics = convertRequirementsToEpics(requirements, domain);\n    const userStories = convertEpicsToUserStories(epics, domain);\n    const html = `\n      <div style=\"font-family:Calibri, Arial, Helvetica, sans-serif;color:#111827;line-height:1.45;padding:18px;\">\n        <h1 style=\"text-align:center;margin-bottom:6px;\">Functional Requirement Document (FRD)</h1>\n        <h2 style=\"text-align:center;margin-top:2px;\">${project} ‚Äî FRD Version-${version}</h2>\n        <div style=\"background:#f3f4f6;padding:8px;border-radius:4px;margin:12px 0;\">\n          <strong>ü§ñ AI DOMAIN INTELLIGENCE: ${domain.toUpperCase()} DOMAIN DETECTED</strong>\n        </div>\n        <hr/>\n        \n        <h3>Document Index</h3>\n        <ol>\n          <li>Executive Summary</li>\n          <li>EPIC Breakdown</li>\n          <li>User Stories</li>\n          <li>Functional Requirements</li>\n          <li>Acceptance Criteria</li>\n          <li>Technical Specifications</li>\n        </ol>\n\n        <h2>1. Executive Summary</h2>\n        <p>This Functional Requirements Document (FRD) translates the business requirements into detailed functional specifications for <strong>${project}</strong>. \n        The requirements are organized into EPICs and User Stories following Agile methodology with ${domain}-specific domain expertise.</p>\n\n        <h2>2. EPIC Breakdown</h2>\n        ${epics.map(epic => `\n          <div style=\"border:1px solid #d1d5db;margin:10px 0;padding:12px;border-radius:6px;\">\n            <h3 style=\"color:#1f2937;margin-top:0;\">${epic.id}: ${epic.title}</h3>\n            <p><strong>Description:</strong> ${epic.description}</p>\n            <p><strong>Business Value:</strong> ${epic.businessValue}</p>\n            <p><strong>Acceptance Criteria:</strong></p>\n            <ul>\n              ${epic.acceptanceCriteria.map(criteria => `<li>${criteria}</li>`).join('')}\n            </ul>\n          </div>\n        `).join('')}\n\n        <h2>3. User Stories</h2>\n        ${userStories.map(story => `\n          <div style=\"border:1px solid #e5e7eb;margin:8px 0;padding:10px;border-radius:4px;background:#f9fafb;\">\n            <h4 style=\"color:#374151;margin-top:0;\">${story.id}: ${story.title}</h4>\n            <p><strong>As a</strong> ${story.asA}, <strong>I want</strong> ${story.iWant}, <strong>so that</strong> ${story.soThat}.</p>\n            <p><strong>Acceptance Criteria:</strong></p>\n            <ul>\n              ${story.acceptanceCriteria.map(criteria => `<li>${criteria}</li>`).join('')}\n            </ul>\n            <div style=\"background:#fff3cd;padding:8px;border-radius:4px;margin:8px 0;border-left:4px solid #ffc107;\">\n              <p style=\"margin:0;\"><strong>üîç Validation Criteria:</strong></p>\n              <ul style=\"margin:4px 0 0 0;\">\n                ${story.validationCriteria.map(validation => `<li>${validation}</li>`).join('')}\n              </ul>\n            </div>\n            <p><strong>Priority:</strong> ${story.priority} | <strong>Story Points:</strong> ${story.storyPoints}</p>\n          </div>\n        `).join('')}\n\n        <h2>4. Functional Requirements</h2>\n        <p>The following functional requirements have been derived from the business requirements and organized by EPIC:</p>\n        ${epics.map(epic => `\n          <h3>${epic.id} Functional Requirements</h3>\n          <ul>\n            ${epic.functionalRequirements.map(req => `<li>${req}</li>`).join('')}\n          </ul>\n        `).join('')}\n\n        <h2>5. Acceptance Criteria</h2>\n        <p>Each EPIC and User Story includes specific acceptance criteria tailored for the ${domain} domain:</p>\n        <ul>\n          <li>All functional requirements must be validated against ${domain} industry standards</li>\n          <li>User acceptance testing must cover all defined user stories</li>\n          <li>Performance criteria must meet ${domain}-specific requirements</li>\n          <li>Security and compliance requirements must be validated</li>\n        </ul>\n\n        <h2>6. Technical Specifications</h2>\n        <p>Technical implementation details will be defined in separate Technical Requirements Document (TRD) based on these functional requirements.</p>\n\n        <hr/>\n        <p style=\"font-size:11px;color:#6b7280;\">Generated by BA Assistant Tool with AI Domain Intelligence</p>\n      </div>\n    `;\n    return html;\n  };\n\n  // Domain detection specifically for FRD generation from BRD text\n  const detectDomainFromBrdText = brdText => {\n    const text = brdText.toLowerCase();\n    const domainKeywords = {\n      telecom: ['telecom', 'telecommunication', 'sim', 'esim', 'mnp', 'ocs', 'billing', 'charging', 'kyc', 'activation', 'provisioning', 'hlr', 'hss', 'udm', 'pcf', 'trai', 'dot', 'carrier', 'subscriber', 'msisdn', 'imsi', 'network', 'tariff', 'plan', 'postpaid', 'prepaid', 'roaming', 'sms', 'data', 'voice', 'bss', 'oss', 'revenue assurance', 'dunning', 'mediation'],\n      airline: ['flight', 'airline', 'aviation', 'passenger', 'booking', 'pnr', 'ticket', 'fare', 'seat', 'baggage', 'airport', 'gds', 'iata', 'aircraft', 'departure', 'arrival', 'ancillary', 'itinerary', 'check-in', 'boarding'],\n      financial: ['investment', 'portfolio', 'trading', 'finance', 'banking', 'fund', 'asset', 'equity', 'debt', 'risk', 'compliance', 'audit', 'revenue', 'profit', 'budget', 'cost', 'accounting', 'transaction'],\n      healthcare: ['patient', 'medical', 'clinical', 'diagnosis', 'treatment', 'healthcare', 'hospital', 'doctor', 'nurse', 'prescription', 'hipaa', 'medical record', 'clinical'],\n      ecommerce: ['product', 'cart', 'checkout', 'payment', 'order', 'inventory', 'shipping', 'customer', 'ecommerce', 'online store', 'marketplace', 'catalog'],\n      marketing: ['campaign', 'brand', 'customer', 'lead', 'conversion', 'engagement', 'social media', 'advertising', 'promotion', 'analytics', 'roi', 'ctr', 'cpc', 'segment']\n    };\n    let maxScore = 0;\n    let detectedDomain = 'generic';\n    Object.keys(domainKeywords).forEach(domain => {\n      const score = domainKeywords[domain].filter(keyword => text.includes(keyword)).length;\n      if (score > maxScore) {\n        maxScore = score;\n        detectedDomain = domain;\n      }\n    });\n    console.log(`üéØ FRD Domain Detection: ${detectedDomain} (score: ${maxScore})`);\n    return detectedDomain;\n  };\n\n  // Helper functions for FRD generation\n  const extractRequirementsFromBrd = brdText => {\n    // Extract requirements from BRD text with improved parsing\n    const lines = brdText.split('\\n').map(line => line.trim()).filter(line => line);\n    const requirements = [];\n    let currentEpicId = '';\n    let currentEpicTitle = '';\n    let inRequirementsSection = false;\n    for (const line of lines) {\n      // Detect EPIC sections\n      if (line.match(/EPIC-\\d+/)) {\n        var _line$split$;\n        currentEpicId = line.match(/EPIC-\\d+/)[0];\n        currentEpicTitle = ((_line$split$ = line.split(':')[1]) === null || _line$split$ === void 0 ? void 0 : _line$split$.trim()) || 'Core System';\n        inRequirementsSection = false;\n        continue;\n      }\n\n      // Detect Requirements sections within EPICs\n      if (line.toLowerCase().includes('requirements:') && currentEpicId) {\n        inRequirementsSection = true;\n        continue;\n      }\n\n      // Extract detailed requirements from bullet points within EPIC sections\n      if (inRequirementsSection && (line.startsWith('‚Ä¢') || line.startsWith('-') || line.startsWith('*'))) {\n        const cleanLine = line.replace(/^[‚Ä¢\\-\\*]\\s*/, '').trim();\n        if (cleanLine.length > 10) {\n          requirements.push({\n            text: cleanLine,\n            epicId: currentEpicId,\n            epicTitle: currentEpicTitle,\n            priority: determinePriority(cleanLine),\n            isDetailed: true\n          });\n        }\n      }\n    }\n    console.log(`üìã Extracted ${requirements.length} requirements from BRD:`);\n    requirements.forEach((req, i) => console.log(`  ${req.epicId}: ${req.text.substring(0, 80)}...`));\n    return requirements;\n  };\n  const convertRequirementsToEpics = (requirements, domain) => {\n    const epics = [];\n    if (requirements.length === 0) {\n      return getDefaultEpicsForDomain(domain);\n    }\n\n    // Group requirements by EPIC ID and analyze content to create meaningful EPICs\n    const epicGroups = {};\n    requirements.forEach(req => {\n      const epicId = req.epicId || 'EPIC-01';\n      if (!epicGroups[epicId]) {\n        epicGroups[epicId] = [];\n      }\n      epicGroups[epicId].push(req);\n    });\n\n    // Create EPICs based on actual requirements content\n    Object.keys(epicGroups).forEach(epicId => {\n      const reqs = epicGroups[epicId];\n      const epicTitle = generateMeaningfulEpicTitle(reqs, domain);\n      const description = generateEpicDescription(reqs, epicTitle, domain);\n      epics.push({\n        id: epicId,\n        title: epicTitle,\n        description: description,\n        businessValue: getDomainBusinessValue(epicTitle, domain),\n        acceptanceCriteria: generateEpicAcceptanceCriteria(reqs, domain),\n        functionalRequirements: reqs.map(req => req.text),\n        priority: reqs.some(r => r.priority === 'High') ? 'High' : 'Medium'\n      });\n    });\n    return epics;\n  };\n\n  // Generate meaningful EPIC titles based on actual requirements\n  const generateMeaningfulEpicTitle = (requirements, domain) => {\n    // Handle both old format (array of objects with .text) and new format (array of strings)\n    const reqText = Array.isArray(requirements) ? requirements.map(r => typeof r === 'string' ? r : r.text).join(' ').toLowerCase() : requirements.toLowerCase();\n\n    // Telecom domain specific grouping\n    if (domain === 'telecom') {\n      if (reqText.includes('lead to order') || reqText.includes('catalog') || reqText.includes('offer') || reqText.includes('eligibility') || reqText.includes('credit check')) {\n        return 'Product Catalog & Order Management';\n      }\n      if (reqText.includes('kyc') || reqText.includes('activation') || reqText.includes('sim') || reqText.includes('esim') || reqText.includes('mnp') || reqText.includes('provisioning')) {\n        return 'Customer Onboarding & SIM Activation';\n      }\n      if (reqText.includes('charging') || reqText.includes('billing') || reqText.includes('rating') || reqText.includes('ocs') || reqText.includes('invoicing') || reqText.includes('dunning')) {\n        return 'Charging & Billing Management';\n      }\n      if (reqText.includes('care') || reqText.includes('assurance') || reqText.includes('tickets') || reqText.includes('diagnostics') || reqText.includes('outages') || reqText.includes('knowledge base')) {\n        return 'Customer Care & Service Assurance';\n      }\n      if (reqText.includes('payment') || reqText.includes('collection') || reqText.includes('cards') || reqText.includes('upi') || reqText.includes('autopay') || reqText.includes('refund')) {\n        return 'Payment & Collection Management';\n      }\n      if (reqText.includes('partner') || reqText.includes('retailer') || reqText.includes('commission') || reqText.includes('inventory') || reqText.includes('sales reporting')) {\n        return 'Partner & Channel Management';\n      }\n      if (reqText.includes('analytics') || reqText.includes('compliance') || reqText.includes('usage') || reqText.includes('churn') || reqText.includes('revenue') || reqText.includes('audit') || reqText.includes('regulatory')) {\n        return 'Analytics & Regulatory Compliance';\n      }\n    }\n\n    // Financial domain specific grouping\n    if (domain === 'financial') {\n      if (reqText.includes('intake') || reqText.includes('onboard') || reqText.includes('digital') || reqText.includes('form')) {\n        return 'Investor Onboarding & Digital Intake';\n      }\n      if (reqText.includes('kyc') || reqText.includes('aml') || reqText.includes('screening') || reqText.includes('compliance')) {\n        return 'Compliance & Risk Management';\n      }\n      if (reqText.includes('sign') || reqText.includes('document') || reqText.includes('stamp') || reqText.includes('version')) {\n        return 'Document Management & E-Signature';\n      }\n      if (reqText.includes('payment') || reqText.includes('bank') || reqText.includes('funding') || reqText.includes('penny')) {\n        return 'Payment & Fund Management';\n      }\n      if (reqText.includes('tracking') || reqText.includes('notification') || reqText.includes('communication') || reqText.includes('export')) {\n        return 'Communication & Integration Management';\n      }\n    }\n\n    // Airline domain specific grouping\n    if (domain === 'airline') {\n      if (reqText.includes('search') || reqText.includes('shopping') || reqText.includes('availability')) {\n        return 'Flight Search & Shopping';\n      }\n      if (reqText.includes('booking') || reqText.includes('pnr') || reqText.includes('reservation')) {\n        return 'Booking & Reservation Management';\n      }\n      if (reqText.includes('payment') || reqText.includes('ticket') || reqText.includes('billing')) {\n        return 'Payment & Ticketing';\n      }\n    }\n\n    // Generic grouping for other domains\n    if (reqText.includes('user') || reqText.includes('account') || reqText.includes('auth')) {\n      return 'User Management & Authentication';\n    }\n    if (reqText.includes('data') || reqText.includes('process') || reqText.includes('manage')) {\n      return 'Data Processing & Management';\n    }\n    if (reqText.includes('report') || reqText.includes('analytic') || reqText.includes('track')) {\n      return 'Reporting & Analytics';\n    }\n    return 'Core Business Functionality';\n  };\n\n  // Generate EPIC descriptions based on requirements\n  const generateEpicDescription = (requirements, title, domain) => {\n    const mainFunctions = requirements.slice(0, 3).map(r => r.text.toLowerCase()).join(', ');\n    return `Implement ${title.toLowerCase()} including ${mainFunctions} with ${domain}-specific business logic and industry compliance`;\n  };\n\n  // Generate EPIC acceptance criteria based on actual requirements\n  const generateEpicAcceptanceCriteria = (requirements, domain) => {\n    const criteria = [];\n\n    // Add requirement-specific criteria\n    requirements.slice(0, 3).forEach(req => {\n      const reqLower = req.text.toLowerCase();\n      if (reqLower.includes('intake') || reqLower.includes('form')) {\n        criteria.push('Digital forms are intuitive and guide users through the process');\n      }\n      if (reqLower.includes('validation') || reqLower.includes('verify')) {\n        criteria.push('Real-time validation provides immediate feedback to users');\n      }\n      if (reqLower.includes('document') || reqLower.includes('upload')) {\n        criteria.push('Document upload and management supports required file formats');\n      }\n      if (reqLower.includes('workflow') || reqLower.includes('approval')) {\n        criteria.push('Approval workflows enforce business rules and compliance');\n      }\n    });\n\n    // Add domain-specific criteria\n    if (domain === 'financial') {\n      criteria.push('All functionality complies with financial regulations (SEC, FINRA)');\n      criteria.push('Audit trails are maintained for regulatory compliance');\n    }\n    criteria.push('Performance meets industry standards');\n    criteria.push('Security and data protection requirements are satisfied');\n    return criteria.slice(0, 4); // Limit to 4 criteria\n  };\n\n  // Domain-specific grouping logic\n  const getDomainSpecificGrouping = (requirements, domain) => {\n    const groups = {};\n    if (domain === 'airline') {\n      // Airline-specific grouping\n      requirements.forEach(req => {\n        const text = req.text.toLowerCase();\n        let feature = 'Flight Operations';\n        if (text.includes('search') || text.includes('availability') || text.includes('shopping')) {\n          feature = 'Flight Search & Shopping';\n        } else if (text.includes('booking') || text.includes('pnr') || text.includes('reservation')) {\n          feature = 'Booking & Reservation Management';\n        } else if (text.includes('payment') || text.includes('ticket') || text.includes('billing')) {\n          feature = 'Payment & Ticketing';\n        } else if (text.includes('seat') || text.includes('ancillary') || text.includes('baggage') || text.includes('meal')) {\n          feature = 'Ancillary Services';\n        } else if (text.includes('change') || text.includes('cancel') || text.includes('refund')) {\n          feature = 'Post-Booking Services';\n        } else if (text.includes('admin') || text.includes('ops') || text.includes('queue') || text.includes('report')) {\n          feature = 'Operations & Administration';\n        }\n        if (!groups[feature]) groups[feature] = [];\n        groups[feature].push(req);\n      });\n    } else {\n      // Generic grouping for other domains\n      requirements.forEach(req => {\n        let feature = 'Core System';\n        if (req.text.toLowerCase().includes('user') || req.text.toLowerCase().includes('auth')) {\n          feature = 'User Management';\n        } else if (req.text.toLowerCase().includes('data') || req.text.toLowerCase().includes('process')) {\n          feature = 'Data Processing';\n        } else if (req.text.toLowerCase().includes('report') || req.text.toLowerCase().includes('analytic')) {\n          feature = 'Reporting';\n        } else if (req.section && req.section !== '') {\n          feature = req.section;\n        }\n        if (!groups[feature]) groups[feature] = [];\n        groups[feature].push(req);\n      });\n    }\n    return groups;\n  };\n\n  // Domain-specific business value\n  const getDomainBusinessValue = (feature, domain) => {\n    var _domainValues$domain;\n    const domainValues = {\n      airline: {\n        'Flight Search & Shopping': 'Enables passengers to find and compare flights, increasing conversion rates and revenue',\n        'Booking & Reservation Management': 'Streamlines reservation process, reducing abandonment and improving customer experience',\n        'Payment & Ticketing': 'Ensures secure payment processing and instant ticket issuance, reducing fraud and improving cash flow',\n        'Ancillary Services': 'Maximizes ancillary revenue through upselling services like seats, bags, and meals',\n        'Post-Booking Services': 'Reduces call center load and improves customer satisfaction through self-service options',\n        'Operations & Administration': 'Provides operational efficiency and business intelligence for airline staff'\n      }\n    };\n    return ((_domainValues$domain = domainValues[domain]) === null || _domainValues$domain === void 0 ? void 0 : _domainValues$domain[feature]) || `Enables efficient ${feature.toLowerCase()} operations and improves ${domain} business processes`;\n  };\n\n  // Domain-specific acceptance criteria\n  const getDomainAcceptanceCriteria = (feature, domain) => {\n    var _domainCriteria$domai;\n    const domainCriteria = {\n      airline: {\n        'Flight Search & Shopping': ['Flight search results are returned within 3 seconds', 'All GDS/NDC sources are integrated and searchable', 'Fare rules and restrictions are clearly displayed', 'Search filters work correctly (price, timing, airline, stops)'],\n        'Booking & Reservation Management': ['PNR creation follows IATA standards', 'Passenger data validation meets airline requirements', 'Seat selection integrates with airline seat maps', 'Booking confirmations are sent immediately'],\n        'Payment & Ticketing': ['Payment processing is PCI DSS compliant', 'Ticket issuance follows IATA standards', 'Fraud detection rules are implemented', 'EMD generation for ancillaries is supported'],\n        'Ancillary Services': ['Seat map integration displays real-time availability', 'Baggage rules are accurately calculated and displayed', 'Meal preferences are captured and transmitted to airline', 'Ancillary EMDs are generated automatically'],\n        'Post-Booking Services': ['Change and cancellation rules are enforced automatically', 'Refund calculations follow airline fare rules', 'Schedule change notifications are sent real-time', 'Voucher and credit management is fully automated'],\n        'Operations & Administration': ['Queue management supports airline operational workflows', 'Reporting provides real-time business intelligence', 'IRROPS support enables disruption management', 'Audit trails meet regulatory requirements']\n      }\n    };\n    return ((_domainCriteria$domai = domainCriteria[domain]) === null || _domainCriteria$domai === void 0 ? void 0 : _domainCriteria$domai[feature]) || [`${feature} functionality is fully implemented and tested`, `All ${domain}-specific requirements are met`, 'Performance meets industry standards', 'Security and compliance requirements are satisfied'];\n  };\n\n  // Default EPICs for specific domains when no requirements are extracted\n  const getDefaultEpicsForDomain = domain => {\n    const defaults = {\n      airline: [{\n        id: 'EPIC-01',\n        title: 'Flight Search & Shopping',\n        description: 'Comprehensive flight search and shopping experience with multi-source integration',\n        businessValue: 'Enables passengers to find and compare flights, increasing conversion rates',\n        acceptanceCriteria: ['Multi-city, round-trip, and one-way search capabilities', 'Real-time fare and availability from GDS/NDC sources', 'Advanced filtering and sorting options', 'Branded fares and ancillary product display'],\n        functionalRequirements: ['Flight search functionality', 'Fare comparison and display', 'Filter and sort capabilities'],\n        priority: 'High'\n      }]\n    };\n    return defaults[domain] || [{\n      id: 'EPIC-01',\n      title: 'Core System Requirements',\n      description: 'Basic system functionality requirements',\n      businessValue: 'Provides core system capabilities',\n      acceptanceCriteria: ['System functionality implemented', 'Basic requirements met'],\n      functionalRequirements: ['Core system functionality'],\n      priority: 'Medium'\n    }];\n  };\n  const convertEpicsToUserStories = (epics, domain) => {\n    const userStories = [];\n    epics.forEach((epic, epicIndex) => {\n      // Generate user stories based on actual requirements within each EPIC\n      const stories = generateUserStoriesFromRequirements(epic, domain, epicIndex);\n      userStories.push(...stories);\n    });\n    return userStories;\n  };\n\n  // Generate user stories based on actual EPIC requirements\n  const generateUserStoriesFromRequirements = (epic, domain, epicIndex) => {\n    const stories = [];\n    const requirements = epic.functionalRequirements;\n\n    // Group related requirements into logical user stories\n    const storyGroups = groupRequirementsIntoStories(requirements, epic.title, domain);\n    storyGroups.forEach((storyGroup, storyIndex) => {\n      const storyId = `US-${String(epicIndex + 1).padStart(2, '0')}-${String(storyIndex + 1).padStart(2, '0')}`;\n      const persona = getAppropriatePersona(storyGroup.requirements, domain);\n      const storyTitle = generateStoryTitle(storyGroup, epic.title);\n      const storyWant = generateStoryWant(storyGroup.requirements);\n      const storySoThat = generateStorySoThat(storyGroup.requirements, domain);\n      stories.push({\n        id: storyId,\n        title: storyTitle,\n        asA: persona,\n        iWant: storyWant,\n        soThat: storySoThat,\n        acceptanceCriteria: generateStoryAcceptanceCriteria(storyGroup.requirements),\n        validationCriteria: getStoryValidationCriteria(domain, epic.title, storyGroup.action, persona),\n        priority: epic.priority,\n        storyPoints: calculateStoryPoints(storyGroup.requirements),\n        epicId: epic.id\n      });\n    });\n    return stories;\n  };\n\n  // Group requirements into logical user stories\n  const groupRequirementsIntoStories = (requirements, epicTitle, domain) => {\n    const groups = [];\n\n    // For financial domain, create specific story groups\n    if (domain === 'financial') {\n      if (epicTitle.includes('Onboarding') || epicTitle.includes('Intake')) {\n        requirements.forEach(req => {\n          const reqLower = req.toLowerCase();\n          if (reqLower.includes('digital intake') || reqLower.includes('form')) {\n            groups.push({\n              action: 'Complete Digital Intake',\n              requirements: [req],\n              focus: 'intake'\n            });\n          } else if (reqLower.includes('eligibility') || reqLower.includes('accreditation')) {\n            groups.push({\n              action: 'Verify Eligibility',\n              requirements: [req],\n              focus: 'verification'\n            });\n          } else if (reqLower.includes('document upload')) {\n            groups.push({\n              action: 'Upload Documents',\n              requirements: [req],\n              focus: 'documentation'\n            });\n          }\n        });\n      } else if (epicTitle.includes('Compliance')) {\n        requirements.forEach(req => {\n          const reqLower = req.toLowerCase();\n          if (reqLower.includes('kyc') || reqLower.includes('aml')) {\n            groups.push({\n              action: 'Complete KYC/AML Screening',\n              requirements: [req],\n              focus: 'compliance'\n            });\n          } else if (reqLower.includes('screening') || reqLower.includes('risk scoring')) {\n            groups.push({\n              action: 'Perform Risk Assessment',\n              requirements: [req],\n              focus: 'risk'\n            });\n          }\n        });\n      }\n    }\n\n    // If no specific groups created, create generic ones\n    if (groups.length === 0) {\n      const mid = Math.ceil(requirements.length / 2);\n      if (requirements.length > 1) {\n        groups.push({\n          action: 'Manage Primary Functions',\n          requirements: requirements.slice(0, mid),\n          focus: 'primary'\n        });\n        groups.push({\n          action: 'Handle Secondary Operations',\n          requirements: requirements.slice(mid),\n          focus: 'secondary'\n        });\n      } else {\n        groups.push({\n          action: 'Execute Core Functionality',\n          requirements: requirements,\n          focus: 'core'\n        });\n      }\n    }\n    return groups;\n  };\n\n  // Get appropriate persona based on requirements\n  const getAppropriatePersona = (requirements, domain) => {\n    var _defaultPersonas$doma;\n    const reqText = requirements.join(' ').toLowerCase();\n    if (domain === 'telecom') {\n      if (reqText.includes('catalog') || reqText.includes('offer') || reqText.includes('order') || reqText.includes('eligibility')) {\n        return 'Customer';\n      }\n      if (reqText.includes('kyc') || reqText.includes('activation') || reqText.includes('provisioning') || reqText.includes('sim')) {\n        return 'Customer Service Representative';\n      }\n      if (reqText.includes('billing') || reqText.includes('charging') || reqText.includes('payment') || reqText.includes('collection')) {\n        return 'Billing Specialist';\n      }\n      if (reqText.includes('care') || reqText.includes('ticket') || reqText.includes('diagnostic') || reqText.includes('trouble')) {\n        return 'Technical Support Agent';\n      }\n      if (reqText.includes('partner') || reqText.includes('retailer') || reqText.includes('commission') || reqText.includes('sales')) {\n        return 'Channel Partner';\n      }\n      if (reqText.includes('analytics') || reqText.includes('compliance') || reqText.includes('audit') || reqText.includes('regulatory')) {\n        return 'Business Analyst';\n      }\n    }\n    if (domain === 'financial') {\n      if (reqText.includes('investor') || reqText.includes('individual') || reqText.includes('intake')) {\n        return 'Investor';\n      }\n      if (reqText.includes('reviewer') || reqText.includes('approval') || reqText.includes('compliance')) {\n        return 'Compliance Officer';\n      }\n      if (reqText.includes('admin') || reqText.includes('manage') || reqText.includes('workflow')) {\n        return 'Fund Administrator';\n      }\n    }\n\n    // Default personas by domain\n    const defaultPersonas = {\n      telecom: ['Customer', 'Customer Service Representative', 'Technical Support Agent'],\n      airline: ['Passenger', 'Travel Agent', 'Airline Operations Staff'],\n      financial: ['Investor', 'Fund Manager', 'Compliance Officer'],\n      healthcare: ['Patient', 'Healthcare Provider', 'Administrator'],\n      ecommerce: ['Customer', 'Store Manager', 'Sales Representative']\n    };\n    return ((_defaultPersonas$doma = defaultPersonas[domain]) === null || _defaultPersonas$doma === void 0 ? void 0 : _defaultPersonas$doma[0]) || 'User';\n  };\n\n  // Generate story title based on group\n  const generateStoryTitle = (storyGroup, epicTitle) => {\n    return `${epicTitle} - ${storyGroup.action}`;\n  };\n\n  // Generate \"I want\" statement from requirements\n  const generateStoryWant = requirements => {\n    const firstReq = requirements[0].toLowerCase();\n\n    // Telecom-specific wants\n    if (firstReq.includes('catalog') || firstReq.includes('offer')) {\n      return 'browse product catalog and view available offers';\n    }\n    if (firstReq.includes('eligibility') || firstReq.includes('credit check')) {\n      return 'check customer eligibility and perform credit verification';\n    }\n    if (firstReq.includes('kyc') || firstReq.includes('activation')) {\n      return 'complete KYC verification and activate services';\n    }\n    if (firstReq.includes('sim') || firstReq.includes('esim') || firstReq.includes('provisioning')) {\n      return 'provision and activate SIM/eSIM with seamless setup';\n    }\n    if (firstReq.includes('mnp') || firstReq.includes('portability')) {\n      return 'process mobile number portability requests efficiently';\n    }\n    if (firstReq.includes('charging') || firstReq.includes('billing') || firstReq.includes('rating')) {\n      return 'manage real-time charging and accurate billing processes';\n    }\n    if (firstReq.includes('care') || firstReq.includes('ticket') || firstReq.includes('diagnostic')) {\n      return 'handle customer care requests and resolve technical issues';\n    }\n    if (firstReq.includes('payment') || firstReq.includes('collection')) {\n      return 'process payments and manage collections efficiently';\n    }\n    if (firstReq.includes('partner') || firstReq.includes('retailer')) {\n      return 'manage partner relationships and channel operations';\n    }\n    if (firstReq.includes('analytics') || firstReq.includes('reporting')) {\n      return 'generate analytics and compliance reports';\n    }\n\n    // Financial-specific wants\n    if (firstReq.includes('digital intake') || firstReq.includes('form')) {\n      return 'complete digital intake forms with guided assistance';\n    }\n    if (firstReq.includes('document upload')) {\n      return 'upload required documents with real-time validation';\n    }\n    if (firstReq.includes('kyc') || firstReq.includes('screening')) {\n      return 'complete KYC/AML screening and compliance checks';\n    }\n    if (firstReq.includes('payment') || firstReq.includes('funding')) {\n      return 'process payments and funding transactions securely';\n    }\n    if (firstReq.includes('sign') || firstReq.includes('stamp')) {\n      return 'electronically sign documents and manage versions';\n    }\n\n    // Generic fallback\n    return `implement ${firstReq.split('.')[0].replace(/^[‚Ä¢\\-\\*]\\s*/, '')}`;\n  };\n\n  // Generate \"so that\" statement based on domain and requirements\n  const generateStorySoThat = (requirements, domain) => {\n    const reqText = requirements.join(' ').toLowerCase();\n    if (domain === 'telecom') {\n      if (reqText.includes('catalog') || reqText.includes('offer') || reqText.includes('order')) {\n        return 'I can easily discover and subscribe to relevant services';\n      }\n      if (reqText.includes('kyc') || reqText.includes('activation') || reqText.includes('provisioning')) {\n        return 'I can quickly onboard and start using telecom services';\n      }\n      if (reqText.includes('billing') || reqText.includes('charging') || reqText.includes('rating')) {\n        return 'I can ensure accurate and transparent billing processes';\n      }\n      if (reqText.includes('care') || reqText.includes('ticket') || reqText.includes('support')) {\n        return 'I can receive timely and effective customer support';\n      }\n      if (reqText.includes('payment') || reqText.includes('collection')) {\n        return 'I can make payments conveniently and maintain service continuity';\n      }\n      if (reqText.includes('partner') || reqText.includes('channel') || reqText.includes('retailer')) {\n        return 'I can effectively manage and grow channel partnerships';\n      }\n      if (reqText.includes('analytics') || reqText.includes('compliance') || reqText.includes('regulatory')) {\n        return 'I can make data-driven decisions and ensure regulatory compliance';\n      }\n    }\n    if (domain === 'financial') {\n      if (reqText.includes('investor') || reqText.includes('onboard')) {\n        return 'I can efficiently onboard and start investing';\n      }\n      if (reqText.includes('compliance') || reqText.includes('kyc')) {\n        return 'I can ensure regulatory compliance and risk management';\n      }\n      if (reqText.includes('document') || reqText.includes('sign')) {\n        return 'I can complete legal requirements securely';\n      }\n      if (reqText.includes('payment') || reqText.includes('fund')) {\n        return 'I can process investments and manage funds';\n      }\n    }\n    return 'I can accomplish my business objectives efficiently';\n  };\n\n  // Generate acceptance criteria from requirements\n  const generateStoryAcceptanceCriteria = requirements => {\n    const criteria = [];\n    requirements.forEach(req => {\n      const reqLower = req.toLowerCase();\n      if (reqLower.includes('form') || reqLower.includes('intake')) {\n        criteria.push('Digital forms are completed with all required fields');\n      }\n      if (reqLower.includes('validation') || reqLower.includes('real time')) {\n        criteria.push('Real-time validation provides immediate feedback');\n      }\n      if (reqLower.includes('document') || reqLower.includes('upload')) {\n        criteria.push('Documents are uploaded and verified successfully');\n      }\n      if (reqLower.includes('screening') || reqLower.includes('check')) {\n        criteria.push('All compliance checks are completed successfully');\n      }\n      if (reqLower.includes('workflow') || reqLower.includes('approval')) {\n        criteria.push('Approval workflows are followed correctly');\n      }\n    });\n\n    // Add generic criteria if none specific found\n    if (criteria.length === 0) {\n      criteria.push('User can successfully complete the required functionality');\n      criteria.push('System validates all inputs and provides feedback');\n    }\n    criteria.push('Performance meets acceptable standards');\n    return criteria.slice(0, 4); // Limit to 4 criteria\n  };\n\n  // Calculate story points based on complexity\n  const calculateStoryPoints = requirements => {\n    const complexity = requirements.join(' ').toLowerCase();\n    if (complexity.includes('workflow') || complexity.includes('integration') || complexity.includes('screening')) {\n      return 8; // Complex\n    }\n    if (complexity.includes('validation') || complexity.includes('approval') || complexity.includes('document')) {\n      return 5; // Medium\n    }\n    return 3; // Simple\n  };\n\n  // Helper functions for story generation\n  const groupRequirementsByFeature = requirements => {\n    const groups = {};\n    requirements.forEach(req => {\n      let feature = 'Core System';\n      if (req.text.toLowerCase().includes('user') || req.text.toLowerCase().includes('auth')) {\n        feature = 'User Management';\n      } else if (req.text.toLowerCase().includes('data') || req.text.toLowerCase().includes('process')) {\n        feature = 'Data Processing';\n      } else if (req.text.toLowerCase().includes('report') || req.text.toLowerCase().includes('analytic')) {\n        feature = 'Reporting';\n      } else if (req.section && req.section !== '') {\n        feature = req.section;\n      }\n      if (!groups[feature]) groups[feature] = [];\n      groups[feature].push(req);\n    });\n    return groups;\n  };\n  const determinePriority = text => {\n    if (text.toLowerCase().includes('must') || text.toLowerCase().includes('critical')) return 'High';\n    if (text.toLowerCase().includes('should') || text.toLowerCase().includes('important')) return 'Medium';\n    return 'Low';\n  };\n\n  // Generate domain-specific validation criteria for user stories\n  const getStoryValidationCriteria = (domain, epicTitle, action, persona) => {\n    const baseValidations = ['Input validation ensures data integrity and prevents malformed data entry', 'Error handling provides clear, actionable feedback to users', 'Security validation prevents unauthorized access and data breaches', 'Performance validation ensures response times meet user expectations'];\n    const domainSpecificValidations = {\n      telecom: ['Telecom regulatory compliance (TRAI/DoT) must be enforced for all operations', 'Number portability (MNP) processing must complete within regulatory timeframes', 'Real-time charging accuracy must be validated to prevent revenue leakage', 'KYC validation must comply with telecom industry standards and DoT guidelines', 'SIM/eSIM provisioning must follow secure activation protocols', 'Billing accuracy must be verified with mediation and reconciliation processes', 'Network integration APIs (HLR/HSS/OCS) must handle failover scenarios', 'Tariff calculations must support complex rating rules and promotional offers', 'Customer care SLA requirements must be monitored and enforced', 'Partner commission calculations must be accurate and auditable', 'Usage data collection must comply with privacy and data retention policies'],\n      airline: ['Flight data must comply with IATA standards and GDS protocols', 'PNR creation and management must follow airline industry standards', 'Payment processing must be PCI DSS compliant with 3DS authentication', 'Ticket issuance must comply with IATA ticketing standards (ET/EMD)', 'Fare calculations must include all taxes, fees, and carrier surcharges', 'Schedule change handling must support IRROPS and disruption management', 'Seat map integration must reflect real-time airline inventory', 'Baggage policy validation must enforce airline-specific rules', 'Ancillary service pricing must integrate with airline merchandising systems'],\n      financial: ['Financial calculations must be accurate to 4 decimal places', 'Regulatory compliance (SEC, FINRA) requirements must be met', 'Audit trails must be maintained for all financial transactions', 'Risk assessment algorithms must be validated against historical data', 'Real-time market data integration must have <2 second latency'],\n      marketing: ['Marketing campaign data must comply with GDPR and privacy regulations', 'A/B testing results must be statistically significant (95% confidence)', 'Customer segmentation algorithms must be validated for accuracy', 'Email deliverability rates must maintain >95% success rate', 'Analytics tracking must comply with cookie consent requirements'],\n      healthcare: ['HIPAA compliance must be validated for all patient data handling', 'Medical data accuracy must be verified against clinical standards', 'Patient consent validation must be documented and traceable', 'Clinical decision support must be evidence-based and validated', 'Emergency access protocols must be tested and functional'],\n      ecommerce: ['Payment processing must comply with PCI DSS standards', 'Inventory synchronization must be real-time across all channels', 'Price calculations must include all applicable taxes and fees', 'Shopping cart persistence must maintain data for 30 days', 'Product recommendations must be validated for relevance and accuracy']\n    };\n    const actionSpecificValidations = {\n      'Create and Manage': ['Data creation validation ensures all required fields are completed', 'Duplicate detection prevents creation of redundant records', 'Workflow approval processes must be tested and functional', 'Data modification logging must capture who, what, when details'],\n      'View and Search': ['Search functionality must return relevant results within 2 seconds', 'Filtering options must accurately narrow down result sets', 'Pagination must handle large datasets efficiently', 'Export functionality must maintain data formatting and integrity'],\n      'Update and Maintain': ['Version control must track all changes with rollback capability', 'Concurrent editing must prevent data conflicts and loss', 'Backup and recovery procedures must be tested regularly', 'Change notifications must be sent to relevant stakeholders']\n    };\n    const personaSpecificValidations = {\n      'Customer': ['User interface must be accessible and comply with WCAG 2.1 guidelines', 'Mobile responsiveness must be tested across major device types', 'Self-service capabilities must be intuitive and comprehensive'],\n      'Customer Service Representative': ['Agent tools must provide 360-degree customer view and interaction history', 'Escalation workflows must be clearly defined and automated', 'Knowledge base integration must provide contextual assistance'],\n      'Technical Support Agent': ['Diagnostic tools must provide real-time network and service status', 'Trouble ticketing must integrate with network management systems', 'Resolution tracking must measure first-call resolution rates'],\n      'Billing Specialist': ['Billing accuracy validation must prevent revenue leakage', 'Dispute resolution workflows must be streamlined and auditable', 'Payment processing must support multiple methods and currencies'],\n      'Channel Partner': ['Partner portal must provide real-time commission and sales tracking', 'Inventory management must reflect accurate stock levels', 'Training materials must be current and accessible'],\n      'Business Analyst': ['Analytics dashboards must provide drill-down capabilities', 'Report generation must support scheduled and on-demand execution', 'Data quality validation must ensure accuracy of insights'],\n      'Passenger': ['User interface must be intuitive for non-technical airline passengers', 'Mobile responsiveness must support booking on all device types', 'Accessibility must comply with disability access requirements (ADA)'],\n      'Travel Agent': ['Agent tools must support rapid multi-passenger bookings', 'GDS integration must provide real-time fare and inventory access', 'Commission tracking and reporting must be accurate and timely'],\n      'Airline Operations Staff': ['Operational tools must integrate with airline DCS and inventory systems', 'IRROPS management must provide real-time disruption handling', 'Queue management must support airline operational workflows'],\n      'Financial Analyst': ['Financial models must be validated against industry benchmarks', 'Risk calculations must include stress testing scenarios'],\n      'Portfolio Manager': ['Portfolio rebalancing must consider transaction costs and tax implications', 'Performance attribution must be calculated using industry standards'],\n      'Marketing Manager': ['Campaign ROI calculations must include all direct and indirect costs', 'Brand compliance guidelines must be enforced across all content'],\n      'Healthcare Provider': ['Clinical protocols must be validated against current medical guidelines', 'Patient safety alerts must be immediate and actionable']\n    };\n\n    // ü§ñ AI-Enhanced Contextual Validation Generation\n    // Combine validations based on context with intelligent selection\n    let validations = [...baseValidations];\n\n    // Add domain-specific validations (select most relevant based on epic context)\n    if (domainSpecificValidations[domain]) {\n      let domainValidations = domainSpecificValidations[domain];\n\n      // AI-style contextual filtering based on epic title and action\n      if (domain === 'telecom') {\n        if (epicTitle.toLowerCase().includes('billing') || epicTitle.toLowerCase().includes('charging')) {\n          domainValidations = domainValidations.filter(v => v.includes('billing') || v.includes('charging') || v.includes('revenue') || v.includes('mediation'));\n        } else if (epicTitle.toLowerCase().includes('onboarding') || epicTitle.toLowerCase().includes('activation')) {\n          domainValidations = domainValidations.filter(v => v.includes('KYC') || v.includes('activation') || v.includes('provisioning') || v.includes('SIM'));\n        } else if (epicTitle.toLowerCase().includes('care') || epicTitle.toLowerCase().includes('support')) {\n          domainValidations = domainValidations.filter(v => v.includes('Customer care') || v.includes('SLA') || v.includes('resolution'));\n        } else if (epicTitle.toLowerCase().includes('compliance') || epicTitle.toLowerCase().includes('analytics')) {\n          domainValidations = domainValidations.filter(v => v.includes('regulatory') || v.includes('TRAI') || v.includes('privacy') || v.includes('audit'));\n        }\n      }\n      validations = validations.concat(domainValidations.slice(0, 3));\n    }\n\n    // Add action-specific validations\n    if (actionSpecificValidations[action]) {\n      validations = validations.concat(actionSpecificValidations[action].slice(0, 2));\n    }\n\n    // Add persona-specific validations\n    if (personaSpecificValidations[persona]) {\n      validations = validations.concat(personaSpecificValidations[persona]);\n    }\n\n    // üéØ AI-Enhanced Validation Prioritization\n    // Remove duplicates and prioritize most relevant validations\n    const uniqueValidations = [...new Set(validations)];\n\n    // Return 5-7 most relevant validations with intelligent selection\n    return uniqueValidations.slice(0, Math.min(7, uniqueValidations.length));\n  };\n\n  // Format requirements as EPICs for BRD\n  const formatRequirementsAsEpics = (requirements, project) => {\n    if (!requirements || requirements.trim() === '') {\n      return `<p><em>No specific requirements provided. Please add business requirements to see EPIC formatting.</em></p>`;\n    }\n\n    // Split requirements into lines and process each\n    const lines = requirements.split('\\n').map(line => line.trim()).filter(line => line);\n    const epics = [];\n\n    // Group related requirements into EPICs\n    let currentEpic = [];\n    let epicCount = 1;\n    lines.forEach((line, index) => {\n      // Start new EPIC every 2-3 requirements or when we detect a major section\n      if (currentEpic.length >= 3 || line.toLowerCase().includes('system') && currentEpic.length > 0 || line.toLowerCase().includes('user') && currentEpic.length > 0) {\n        if (currentEpic.length > 0) {\n          epics.push({\n            id: `EPIC-${String(epicCount).padStart(2, '0')}`,\n            title: generateEpicTitle(currentEpic[0]),\n            requirements: [...currentEpic]\n          });\n          epicCount++;\n          currentEpic = [];\n        }\n      }\n      currentEpic.push(line);\n    });\n\n    // Add the last epic if there are remaining requirements\n    if (currentEpic.length > 0) {\n      epics.push({\n        id: `EPIC-${String(epicCount).padStart(2, '0')}`,\n        title: generateEpicTitle(currentEpic[0]),\n        requirements: [...currentEpic]\n      });\n    }\n\n    // If no EPICs were created, create a default one\n    if (epics.length === 0) {\n      epics.push({\n        id: 'EPIC-01',\n        title: 'Core System Requirements',\n        requirements: lines\n      });\n    }\n\n    // Generate HTML for EPICs\n    return epics.map(epic => `\n      <div style=\"border:1px solid #d1d5db;margin:12px 0;padding:15px;border-radius:6px;background:#f8fafc;\">\n        <h3 style=\"color:#1f2937;margin-top:0;display:flex;align-items:center;\">\n          <span style=\"background:#3b82f6;color:white;padding:4px 8px;border-radius:4px;font-size:12px;margin-right:10px;\">${epic.id}</span>\n          ${epic.title}\n        </h3>\n        <div style=\"margin-top:10px;\">\n          <strong>Requirements:</strong>\n          <ul style=\"margin-top:6px;\">\n            ${epic.requirements.map(req => `<li style=\"margin-bottom:4px;\">${req}</li>`).join('')}\n          </ul>\n        </div>\n        <div style=\"margin-top:10px;padding-top:8px;border-top:1px solid #e5e7eb;font-size:13px;color:#6b7280;\">\n          <strong>EPIC Status:</strong> Ready for FRD conversion | <strong>Priority:</strong> ${getEpicPriority(epic.requirements)}\n        </div>\n      </div>\n    `).join('');\n  };\n\n  // Helper to generate EPIC titles\n  const generateEpicTitle = firstRequirement => {\n    const req = firstRequirement.toLowerCase();\n    if (req.includes('user') || req.includes('auth') || req.includes('login')) {\n      return 'User Management & Authentication';\n    }\n    if (req.includes('data') || req.includes('database') || req.includes('storage')) {\n      return 'Data Management & Storage';\n    }\n    if (req.includes('report') || req.includes('analytic') || req.includes('dashboard')) {\n      return 'Reporting & Analytics';\n    }\n    if (req.includes('payment') || req.includes('transaction') || req.includes('billing')) {\n      return 'Payment & Transaction Processing';\n    }\n    if (req.includes('security') || req.includes('compliance') || req.includes('audit')) {\n      return 'Security & Compliance';\n    }\n    if (req.includes('integration') || req.includes('api') || req.includes('external')) {\n      return 'System Integration';\n    }\n    if (req.includes('performance') || req.includes('scalability') || req.includes('optimization')) {\n      return 'Performance & Scalability';\n    }\n    return 'Core Business Requirements';\n  };\n\n  // Helper to determine EPIC priority\n  const getEpicPriority = requirements => {\n    const text = requirements.join(' ').toLowerCase();\n    if (text.includes('critical') || text.includes('must') || text.includes('essential')) {\n      return 'High';\n    }\n    if (text.includes('should') || text.includes('important') || text.includes('required')) {\n      return 'Medium';\n    }\n    return 'Low';\n  };\n  const saveDocumentToProject = (project, docType, htmlContent, approved = false) => {\n    setProjects(prev => {\n      const newPrev = {\n        ...prev\n      };\n      const p = newPrev[project] || {\n        name: project,\n        documents: []\n      };\n      const existingCount = p.documents.filter(d => d.type === docType).length;\n      const version = existingCount + 1;\n      const doc = {\n        id: `${docType.replace(/\\s/g, \"_\")}_${Date.now()}`,\n        type: docType,\n        version,\n        html: htmlContent,\n        approved,\n        createdAt: new Date().toISOString()\n      };\n      p.documents = [...p.documents, doc];\n      newPrev[project] = p;\n      return newPrev;\n    });\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (user === \"kmadhukumar25@gmail.com\" && pass === \"Madhu143\") {\n      setMsg(\"Login successful.\");\n      setIsLoggedIn(true);\n    } else {\n      setMsg(\"Invalid credentials.\");\n    }\n  };\n  const handleAddProject = () => {\n    setProjectName(\"\");\n    setSavedProjectName(\"\");\n    setDocumentGenerator(\"\");\n    setSelectedModule(MODULES[0]);\n    setIsCreatingProject(true);\n    setSelectedSearchProject(\"\");\n    setSearchTerm(\"\");\n  };\n  const handleSaveProject = () => {\n    if (!projectName.trim()) {\n      setMsg(\"Please enter a project name.\");\n      setTimeout(() => setMsg(\"\"), 2500);\n      return;\n    }\n    const name = projectName.trim();\n    setSavedProjectName(name);\n    setProjects(prev => {\n      if (prev[name]) return prev;\n      return {\n        ...prev,\n        [name]: {\n          name,\n          documents: []\n        }\n      };\n    });\n    setMsg(\"Project saved.\");\n    setTimeout(() => setMsg(\"\"), 1500);\n  };\n  const handleCancelCreate = () => {\n    setIsCreatingProject(false);\n  };\n  const handleCompleteProject = () => {\n    setCompletedProjects(c => Math.min(c + 1, totalProjects));\n  };\n  const handleLogout = () => {\n    setIsLoggedIn(false);\n    setIsCreatingProject(false);\n    setUser(\"\");\n    setPass(\"\");\n    setMsg(\"\");\n    setProjectName(\"\");\n    setSavedProjectName(\"\");\n    setDocumentGenerator(\"\");\n    setSelectedSearchProject(\"\");\n    setSearchTerm(\"\");\n  };\n\n  // STANDALONE MODE: Use enhanced local template with AI domain detection only\n  const handleBrdSubmit = async () => {\n    var _projects$project, _projects$project$doc, _projects$project$doc2;\n    if (!savedProjectName) {\n      setMsg(\"Please save project name first.\");\n      setTimeout(() => setMsg(\"\"), 2000);\n      return;\n    }\n    const project = savedProjectName;\n    const version = (((_projects$project = projects[project]) === null || _projects$project === void 0 ? void 0 : (_projects$project$doc = _projects$project.documents) === null || _projects$project$doc === void 0 ? void 0 : (_projects$project$doc2 = _projects$project$doc.filter(d => d.type === \"BRD\")) === null || _projects$project$doc2 === void 0 ? void 0 : _projects$project$doc2.length) || 0) + 1;\n    setMsg(\"Generating BRD with AI domain detection...\");\n\n    // FORCE STANDALONE MODE - Always use enhanced local template\n    console.log(\"üöÄ STANDALONE MODE: Using enhanced local template with AI domain detection\");\n    const html = generateBrdHtml({\n      project,\n      inputs: brdInputs,\n      version\n    });\n    saveDocumentToProject(project, \"BRD\", html, false);\n    setBrdPreviewHtml(html);\n    setBrdPreviewVersion(version);\n    setBrdPreviewVisible(true);\n    setMsg(`Enhanced BRD Version-${version} generated with AI domain detection.`);\n    setTimeout(() => setMsg(\"\"), 3000);\n  };\n\n  // New FRD generation function using AI agents\n  // STANDALONE FRD GENERATION - No backend dependency\n  const handleFrdSubmit = async () => {\n    var _projects$project2, _projects$project2$do, _projects$project2$do2;\n    if (!savedProjectName) {\n      setMsg(\"Please save project name first.\");\n      setTimeout(() => setMsg(\"\"), 2000);\n      return;\n    }\n    if (!frdInputs.brdText.trim()) {\n      setMsg(\"Please provide BRD content for FRD generation.\");\n      setTimeout(() => setMsg(\"\"), 2000);\n      return;\n    }\n    const project = savedProjectName;\n    const version = (((_projects$project2 = projects[project]) === null || _projects$project2 === void 0 ? void 0 : (_projects$project2$do = _projects$project2.documents) === null || _projects$project2$do === void 0 ? void 0 : (_projects$project2$do2 = _projects$project2$do.filter(d => d.type === \"FRD\")) === null || _projects$project2$do2 === void 0 ? void 0 : _projects$project2$do2.length) || 0) + 1;\n    setFrdLoading(true);\n    setMsg(\"ü§ñ Generating FRD with AI domain intelligence...\");\n\n    // STANDALONE MODE - Generate FRD locally\n    console.log(\"üöÄ FRD STANDALONE MODE: Converting BRD to FRD with domain intelligence\");\n    const html = generateFrdFromBrd(frdInputs.brdText.trim(), project, version);\n    saveDocumentToProject(project, \"FRD\", html, false);\n    setFrdPreviewHtml(html);\n    setFrdPreviewVersion(version);\n    setFrdPreviewVisible(true);\n    setMsg(`Enhanced FRD Version-${version} generated successfully!`);\n    setTimeout(() => setMsg(\"\"), 3000);\n    setFrdLoading(false);\n  };\n  const handleBrdApprove = project => {\n    setProjects(prev => {\n      const copy = {\n        ...prev\n      };\n      const p = copy[project];\n      if (!p) return prev;\n      const brds = p.documents.filter(d => d.type === \"BRD\");\n      if (!brds.length) return prev;\n      const latest = brds.reduce((a, b) => a.version > b.version ? a : b);\n      latest.approved = true;\n      return copy;\n    });\n    setMsg(\"BRD approved.\");\n    setTimeout(() => setMsg(\"\"), 1500);\n  };\n  const handleFrdApprove = project => {\n    setProjects(prev => {\n      const copy = {\n        ...prev\n      };\n      const p = copy[project];\n      if (!p) return prev;\n      const frds = p.documents.filter(d => d.type === \"FRD\");\n      if (!frds.length) return prev;\n      const latest = frds.reduce((a, b) => a.version > b.version ? a : b);\n      latest.approved = true;\n      return copy;\n    });\n    setMsg(\"FRD approved.\");\n    setTimeout(() => setMsg(\"\"), 1500);\n  };\n  const handleBrdClear = () => {\n    setBrdInputs({\n      scope: \"\",\n      objectives: \"\",\n      budget: \"\",\n      briefRequirements: \"\",\n      assumptions: \"\",\n      constraints: \"\",\n      validations: \"\"\n    });\n    setMsg(\"BRD input cleared.\");\n    setTimeout(() => setMsg(\"\"), 1000);\n  };\n  const handleFrdClear = () => {\n    setFrdInputs({\n      brdText: \"\"\n    });\n    setFrdPreviewHtml(\"\");\n    setFrdPreviewVisible(false);\n    setMsg(\"FRD input cleared.\");\n    setTimeout(() => setMsg(\"\"), 1000);\n  };\n  const loadSampleHealthcareBRD = () => {\n    const sampleBRD = `Executive Summary\nHealth Care BRD: Ability to create and manage patient profiles, schedule appointments with notifications, store and update patient medical history securely, and generate invoices with insurance claim support.\n\nProject Scope\nIncluded ‚Äì Patient registration, appointment scheduling, electronic health records integration, billing module. Excluded ‚Äì Telemedicine services, AI diagnostic tools, integration with third-party pharmacies.\n\nBusiness Objectives\nReduce manual customer support inquiries related to balances and statements.\nImprove payment straight-through-processing and reduce failed transactions.\n\nBudget Details\nEstimated project budget of $500K‚Äì$750K, covering development, testing, deployment, and first-year maintenance.\n\nBusiness Requirements\nThe system shall ability to create.\nThe system shall manage patient profiles.\nThe system shall schedule appointments with notifications.\nThe system shall store.\nThe system shall update patient medical history securely.\nThe system shall generate invoices with insurance claim support.\nThe system shall included ‚Äì Patient registration.\nThe system shall appointment scheduling.\nThe system shall electronic health records integration.\nThe system shall billing module. Excluded ‚Äì Telemedicine services.\nThe system shall aI diagnostic tools.\nThe system shall integration with third-party pharmacies.\nThe system shall improve patient management efficiency.\nThe system shall streamline appointment scheduling.\nThe system shall provide centralized health records.\nThe system shall enhance billing accuracy.\n\nAssumptions\nIntegration with existing hospital systems is feasible.\nStaff training will be provided.\nCompliance requirements are well-defined.\n\nValidations\nPatient data must be validated for completeness.\nAppointment conflicts must be prevented.\nBilling calculations must be accurate.\nSecurity protocols must be enforced.`;\n    setFormData({\n      projectScope: \"Included ‚Äì Patient registration, appointment scheduling, electronic health records integration, billing module. Excluded ‚Äì Telemedicine services, AI diagnostic tools, integration with third-party pharmacies.\",\n      businessObjectives: \"Reduce manual customer support inquiries related to balances and statements. Improve payment straight-through-processing and reduce failed transactions.\",\n      budgetDetails: \"Estimated project budget of $500K‚Äì$750K, covering development, testing, deployment, and first-year maintenance.\",\n      briefRequirements: sampleBRD,\n      assumptions: \"Integration with existing hospital systems is feasible. Staff training will be provided. Compliance requirements are well-defined.\",\n      validations: \"Patient data must be validated for completeness. Appointment conflicts must be prevented. Billing calculations must be accurate. Security protocols must be enforced.\"\n    });\n\n    // Also update FRD inputs for FRD Creation page\n    setFrdInputs({\n      brdText: sampleBRD\n    });\n    setMsg(\"Sample Healthcare BRD loaded successfully!\");\n    setTimeout(() => setMsg(\"\"), 2000);\n  };\n  const loadSampleEcommerceBRD = () => {\n    const sampleBRD = `Project Scope (Included & Excluded): Included ‚Äî product catalog and search, cart and checkout, payments, shipping/rates, order management, returns/refunds, promotions/coupons, customer accounts, admin CMS, and analytics; Excluded ‚Äî marketplace multi‚Äëvendor onboarding, in‚Äëstore POS integration, warehouse robotics, and cross‚Äëborder tax automation at launch.\n\nBusiness Objectives: Increase online revenue and conversion rate, reduce cart abandonment, improve repeat purchase rate/CLV, shorten fulfillment lead time, and decrease payment failures and support tickets.\n\nBudget Details: Estimated ‚Çπ80‚Äì‚Çπ140 lakh for design/build, platform licenses, integrations (payment, shipping, tax), testing, deployment, observability, and first‚Äëyear run/support; phased MVP then growth epics.\n\nBrief Business Requirements (EPICs):\n\nEPIC-01 Catalog & Discovery: browse, filter, search, SEO, rich PDP content.\n\nEPIC-02 Cart & Checkout: guest/login checkout, address book, taxes, shipping options, order review.\n\nEPIC-03 Payments: cards/UPI/wallets/BNPL, 3DS, retries, refunds.\n\nEPIC-04 Orders & Fulfillment: order creation, split shipments, tracking, cancellations/returns.\n\nEPIC-05 Promotions & Pricing: coupons, discounts, gift cards, price rules.\n\nEPIC-06 Accounts & Loyalty: registration/SSO, profiles, wishlists, loyalty points.\n\nEPIC-07 Admin & Content: product/inventory/pricing management, CMS, role‚Äëbased access, approvals.\n\nEPIC-08 Analytics & Reporting: conversion funnel, sales/returns, campaign attribution.\n\nAssumptions: Product, price, and inventory are available via API or scheduled feeds; payment/shipping accounts are provisioned; tax/returns/privacy policies are approved; non‚Äëprod and prod environments with SSO/CDN exist; SLA for upstream systems meets storefront needs.\n\nValidations: Required customer/address fields; email/phone formats; postal code and tax/VAT rules by region; inventory reservation at checkout; payment authorization and risk checks; coupon eligibility/stacking rules; shipment method/address compatibility; hard limits on order value/quantity to prevent abuse.`;\n    setFormData({\n      projectScope: \"Included ‚Äî product catalog and search, cart and checkout, payments, shipping/rates, order management, returns/refunds, promotions/coupons, customer accounts, admin CMS, and analytics; Excluded ‚Äî marketplace multi‚Äëvendor onboarding, in‚Äëstore POS integration, warehouse robotics, and cross‚Äëborder tax automation at launch.\",\n      businessObjectives: \"Increase online revenue and conversion rate, reduce cart abandonment, improve repeat purchase rate/CLV, shorten fulfillment lead time, and decrease payment failures and support tickets.\",\n      budgetDetails: \"Estimated ‚Çπ80‚Äì‚Çπ140 lakh for design/build, platform licenses, integrations (payment, shipping, tax), testing, deployment, observability, and first‚Äëyear run/support; phased MVP then growth epics.\",\n      briefRequirements: sampleBRD,\n      assumptions: \"Product, price, and inventory are available via API or scheduled feeds; payment/shipping accounts are provisioned; tax/returns/privacy policies are approved; non‚Äëprod and prod environments with SSO/CDN exist; SLA for upstream systems meets storefront needs.\",\n      validations: \"Required customer/address fields; email/phone formats; postal code and tax/VAT rules by region; inventory reservation at checkout; payment authorization and risk checks; coupon eligibility/stacking rules; shipment method/address compatibility; hard limits on order value/quantity to prevent abuse.\"\n    });\n\n    // Also update FRD inputs for FRD Creation page\n    setFrdInputs({\n      brdText: sampleBRD\n    });\n    setMsg(\"Sample E-commerce BRD with EPICs loaded successfully!\");\n    setTimeout(() => setMsg(\"\"), 2000);\n  };\n  const handleDownloadDoc = (project, doc) => {\n    const filename = `${project}_BRD_v${doc.version}.doc`;\n    downloadAsWord(doc.html, filename);\n  };\n  const handleSearch = () => {\n    if (!searchTerm.trim()) {\n      setMsg(\"Enter project name to search.\");\n      setTimeout(() => setMsg(\"\"), 1500);\n      return;\n    }\n    const found = Object.keys(projects).find(k => k.toLowerCase() === searchTerm.trim().toLowerCase());\n    if (!found) {\n      setMsg(\"Project not found.\");\n      setTimeout(() => setMsg(\"\"), 1500);\n      return;\n    }\n    setSelectedSearchProject(found);\n    if (isCreatingProject) {\n      setSavedProjectName(found);\n      setProjectName(found);\n      setDocumentGenerator(\"\");\n      setMsg(`Loaded project \"${found}\" into workspace.`);\n      setTimeout(() => setMsg(\"\"), 1400);\n    }\n  };\n  const pageStyle = {\n    minHeight: \"100vh\",\n    background: \"#f4f6f8\",\n    padding: 28,\n    fontFamily: \"Inter, Roboto, Arial, sans-serif\"\n  };\n  const cardStyle = {\n    background: \"#ffffff\",\n    padding: 24,\n    borderRadius: 12,\n    boxShadow: \"0 8px 28px rgba(16,24,40,0.08)\",\n    color: \"#111827\"\n  };\n  const inputStyle = {\n    display: \"block\",\n    width: \"100%\",\n    padding: \"10px 12px\",\n    margin: \"8px 0 16px\",\n    borderRadius: 8,\n    border: \"1px solid #e6e9ef\",\n    fontSize: 14,\n    outline: \"none\"\n  };\n  const topButton = {\n    background: \"#0f172a\",\n    color: \"#fff\",\n    border: \"none\",\n    padding: \"8px 14px\",\n    borderRadius: 8,\n    cursor: \"pointer\",\n    fontWeight: 600\n  };\n  if (!isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: \"100vh\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        background: \"linear-gradient(180deg,#f5f7fa 0%,#eef2f6 100%)\",\n        padding: 24\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...cardStyle,\n          width: 420,\n          padding: 32\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            margin: 0,\n            fontSize: 20\n          },\n          children: \"BA Assistant Tool\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1811,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            marginTop: 8,\n            marginBottom: 20,\n            color: \"#6b7280\",\n            fontSize: 13\n          },\n          children: \"Sign in to continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1812,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          \"aria-label\": \"login form\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: 13,\n              color: \"#374151\",\n              fontWeight: 600\n            },\n            children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n              style: inputStyle,\n              value: user,\n              onChange: e => setUser(e.target.value),\n              placeholder: \"name@company.com\",\n              type: \"email\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1817,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1815,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: 13,\n              color: \"#374151\",\n              fontWeight: 600\n            },\n            children: [\"Password\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              style: inputStyle,\n              value: pass,\n              onChange: e => setPass(e.target.value),\n              placeholder: \"Enter your password\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1822,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1820,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              ...topButton,\n              width: \"100%\"\n            },\n            children: \"Sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1825,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1814,\n          columnNumber: 11\n        }, this), msg && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            marginTop: 16,\n            color: msg.includes(\"successful\") ? \"#059669\" : \"#dc2626\"\n          },\n          children: msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1828,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1810,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1809,\n      columnNumber: 7\n    }, this);\n  }\n  if (isCreatingProject) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: \"100vh\",\n        background: \"#f4f6f8\",\n        padding: 20,\n        fontFamily: \"Inter, Roboto, Arial, sans-serif\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: 1200,\n          margin: \"0 auto\",\n          display: \"flex\",\n          gap: 24\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n          style: {\n            width: 280\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: \"#fff\",\n              borderRadius: 12,\n              padding: 18,\n              boxShadow: \"0 6px 18px rgba(16,24,40,0.06)\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n                marginBottom: 12\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 700\n                },\n                children: \"Modules\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1841,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIsCreatingProject(false),\n                style: {\n                  background: \"transparent\",\n                  border: \"none\",\n                  cursor: \"pointer\",\n                  color: \"#6b7280\"\n                },\n                children: \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1842,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1840,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n              children: MODULES.map(m => /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => setSelectedModule(m),\n                style: {\n                  padding: \"10px 12px\",\n                  borderRadius: 8,\n                  cursor: \"pointer\",\n                  marginBottom: 8,\n                  background: selectedModule === m ? \"#0f172a\" : \"transparent\",\n                  color: selectedModule === m ? \"#fff\" : \"#111827\",\n                  fontWeight: selectedModule === m ? 700 : 600\n                },\n                children: m\n              }, m, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1847,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1845,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1839,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1838,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          style: {\n            flex: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: \"#fff\",\n              borderRadius: 12,\n              padding: 20,\n              boxShadow: \"0 6px 18px rgba(16,24,40,0.06)\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n                marginBottom: 12\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setIsCreatingProject(false),\n                  \"aria-label\": \"Back to dashboard\",\n                  style: {\n                    background: \"transparent\",\n                    border: \"none\",\n                    cursor: \"pointer\",\n                    fontSize: 18\n                  },\n                  children: \"\\u2190\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1859,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1858,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  gap: 10,\n                  alignItems: \"center\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  value: projectName,\n                  onChange: e => setProjectName(e.target.value),\n                  placeholder: \"Project Name\",\n                  style: {\n                    ...inputStyle,\n                    width: 260,\n                    margin: 0\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1863,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSaveProject,\n                  style: {\n                    ...topButton,\n                    padding: \"8px 12px\"\n                  },\n                  children: \"Save\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1864,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: searchTerm,\n                  onChange: e => setSearchTerm(e.target.value),\n                  placeholder: \"Search Project\",\n                  style: {\n                    ...inputStyle,\n                    width: 200,\n                    margin: 0\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1866,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSearch,\n                  style: {\n                    ...topButton,\n                    padding: \"8px 12px\"\n                  },\n                  children: \"Search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1867,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleLogout,\n                  style: {\n                    background: \"transparent\",\n                    border: \"1px solid #e6e9ef\",\n                    padding: \"8px 12px\",\n                    borderRadius: 8,\n                    cursor: \"pointer\"\n                  },\n                  children: \"Logout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1869,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1862,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1857,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 13,\n                  color: \"#6b7280\",\n                  fontWeight: 600\n                },\n                children: \"Project\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1874,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 6,\n                  fontSize: 18,\n                  fontWeight: 700,\n                  color: \"#0f172a\"\n                },\n                children: savedProjectName || \"No project saved yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1875,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1873,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n              style: {\n                marginTop: 12,\n                color: \"#374151\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  display: \"block\",\n                  fontSize: 13,\n                  color: \"#374151\",\n                  marginBottom: 8\n                },\n                children: \"Document Generator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1879,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: documentGenerator,\n                onChange: e => setDocumentGenerator(e.target.value),\n                style: {\n                  ...inputStyle,\n                  padding: \"10px 12px\",\n                  width: 360\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select document\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1881,\n                  columnNumber: 19\n                }, this), DOC_OPTIONS.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: d,\n                  children: d\n                }, d, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1882,\n                  columnNumber: 43\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1880,\n                columnNumber: 17\n              }, this), documentGenerator === \"FRD Creation\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 18\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginBottom: 16,\n                    padding: 16,\n                    background: \"#f8fafc\",\n                    border: \"1px solid #e2e8f0\",\n                    borderRadius: 8\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    style: {\n                      margin: \"0 0 8px 0\",\n                      color: \"#374151\"\n                    },\n                    children: \"\\uD83E\\uDD16 AI-Powered FRD Generation\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1888,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: 0,\n                      color: \"#6b7280\",\n                      fontSize: 14\n                    },\n                    children: \"Our AI agents analyze your Business Requirements Document (BRD) and automatically generate a comprehensive Functional Requirements Document (FRD) with domain-specific details, stakeholders, NFRs, and detailed functional requirements.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1889,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1887,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginBottom: 8,\n                    fontWeight: 700\n                  },\n                  children: \"FRD Generation - Input BRD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1895,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"#6b7280\",\n                    fontSize: 13,\n                    marginBottom: 12\n                  },\n                  children: \"Paste your complete Business Requirements Document below. The AI agent will automatically detect the domain (Healthcare, Banking, E-commerce, etc.) and generate appropriate FRD content.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1896,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    gap: 8,\n                    marginBottom: 12\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: loadSampleHealthcareBRD,\n                    style: {\n                      padding: \"8px 12px\",\n                      background: \"#10b981\",\n                      color: \"white\",\n                      border: \"none\",\n                      borderRadius: 6,\n                      cursor: \"pointer\",\n                      fontSize: 13\n                    },\n                    children: \"Load Healthcare Sample\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1902,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: loadSampleEcommerceBRD,\n                    style: {\n                      padding: \"8px 12px\",\n                      background: \"#3b82f6\",\n                      color: \"white\",\n                      border: \"none\",\n                      borderRadius: 6,\n                      cursor: \"pointer\",\n                      fontSize: 13\n                    },\n                    children: \"Load E-commerce EPICs Sample\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1916,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleFrdClear,\n                    style: {\n                      padding: \"8px 12px\",\n                      background: \"#6b7280\",\n                      color: \"white\",\n                      border: \"none\",\n                      borderRadius: 6,\n                      cursor: \"pointer\",\n                      fontSize: 13\n                    },\n                    children: \"Clear Input\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1930,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1901,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    fontWeight: 600\n                  },\n                  children: \"Business Requirements Document (BRD) Content\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1946,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: frdInputs.brdText,\n                  onChange: e => updateFrdInput(\"brdText\", e.target.value),\n                  placeholder: \"Paste your complete BRD here including:\\n\\u2022 Executive Summary\\n\\u2022 Project Scope\\n\\u2022 Business Objectives  \\n\\u2022 Budget Details\\n\\u2022 Business Requirements\\n\\u2022 Assumptions\\n\\u2022 Constraints\\n\\u2022 Validations & Acceptance Criteria The AI agent will analyze this content and generate a comprehensive FRD.\",\n                  style: {\n                    ...inputStyle,\n                    minHeight: 280,\n                    fontFamily: \"monospace\",\n                    fontSize: 13\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1947,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: 12,\n                    color: \"#6b7280\",\n                    marginTop: 4,\n                    marginBottom: 16\n                  },\n                  children: [\"Characters: \", frdInputs.brdText.length, \" | AI works best with detailed, structured BRDs\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1968,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    gap: 10,\n                    marginTop: 12\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleFrdSubmit,\n                    disabled: frdLoading,\n                    style: {\n                      ...topButton,\n                      background: frdLoading ? \"#9ca3af\" : \"#3b82f6\",\n                      cursor: frdLoading ? \"not-allowed\" : \"pointer\"\n                    },\n                    children: frdLoading ? \"ü§ñ AI Agent Processing...\" : \"üöÄ Generate FRD\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1973,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      if (savedProjectName) handleFrdApprove(savedProjectName);else setMsg(\"Save project first to approve.\");\n                    },\n                    style: {\n                      background: \"#047857\",\n                      color: \"#fff\",\n                      border: \"none\",\n                      padding: \"8px 14px\",\n                      borderRadius: 8\n                    },\n                    children: \"APPROVE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1984,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleFrdClear,\n                    style: {\n                      background: \"#ef4444\",\n                      color: \"#fff\",\n                      border: \"none\",\n                      padding: \"8px 14px\",\n                      borderRadius: 8\n                    },\n                    children: \"CLEAR\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1999,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1972,\n                  columnNumber: 21\n                }, this), frdPreviewVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginTop: 16,\n                    border: \"1px solid #e6e9ef\",\n                    borderRadius: 8,\n                    overflow: \"hidden\",\n                    background: \"#fff\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"flex\",\n                      justifyContent: \"space-between\",\n                      alignItems: \"center\",\n                      padding: \"8px 12px\",\n                      borderBottom: \"1px solid #eef2f6\",\n                      background: \"#f8fafc\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontWeight: 700\n                      },\n                      children: [\"\\uD83E\\uDD16 AI-Generated FRD \\u2014 Version \", frdPreviewVersion]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2016,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: \"flex\",\n                        gap: 8\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => downloadAsWord(frdPreviewHtml, `${savedProjectName}_FRD_v${frdPreviewVersion}.doc`),\n                        style: {\n                          padding: \"6px 10px\",\n                          borderRadius: 6,\n                          background: \"#fff\",\n                          border: \"1px solid #e6e9ef\",\n                          cursor: \"pointer\"\n                        },\n                        children: \"Download\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2018,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => {\n                          if (savedProjectName) handleFrdApprove(savedProjectName);else setMsg(\"Save project first to approve.\");\n                        },\n                        style: {\n                          padding: \"6px 10px\",\n                          borderRadius: 6,\n                          background: \"#047857\",\n                          color: \"#fff\",\n                          border: \"none\",\n                          cursor: \"pointer\"\n                        },\n                        children: \"Approve\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2030,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: closeFrdPreview,\n                        style: {\n                          padding: \"6px 10px\",\n                          borderRadius: 6,\n                          background: \"#ef4444\",\n                          color: \"#fff\",\n                          border: \"none\",\n                          cursor: \"pointer\"\n                        },\n                        children: \"Close Preview\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2046,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2017,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2015,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      padding: 16,\n                      maxHeight: 500,\n                      overflow: \"auto\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      dangerouslySetInnerHTML: {\n                        __html: frdPreviewHtml\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2062,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2061,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2014,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1886,\n                columnNumber: 19\n              }, this), documentGenerator === \"BRD Creation\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 18\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginBottom: 8,\n                    fontWeight: 700\n                  },\n                  children: \"BRD - Inputs\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2071,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    fontWeight: 600\n                  },\n                  children: \"Project Scope Included / Excluded\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2073,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: brdInputs.scope,\n                  onChange: e => updateBrdInput(\"scope\", e.target.value),\n                  style: {\n                    ...inputStyle,\n                    minHeight: 80\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2074,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    fontWeight: 600\n                  },\n                  children: \"Business Objectives\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2076,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: brdInputs.objectives,\n                  onChange: e => updateBrdInput(\"objectives\", e.target.value),\n                  style: {\n                    ...inputStyle,\n                    minHeight: 80\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2077,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    fontWeight: 600\n                  },\n                  children: \"Budget Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2079,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: brdInputs.budget,\n                  onChange: e => updateBrdInput(\"budget\", e.target.value),\n                  style: {\n                    ...inputStyle\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2080,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    fontWeight: 600\n                  },\n                  children: \"Brief Business Requirements\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2082,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: brdInputs.briefRequirements,\n                  onChange: e => updateBrdInput(\"briefRequirements\", e.target.value),\n                  style: {\n                    ...inputStyle,\n                    minHeight: 80\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2083,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    fontWeight: 600\n                  },\n                  children: \"Assumptions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2085,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: brdInputs.assumptions,\n                  onChange: e => updateBrdInput(\"assumptions\", e.target.value),\n                  style: {\n                    ...inputStyle\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2086,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    fontWeight: 600\n                  },\n                  children: \"Constraints\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2088,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: brdInputs.constraints,\n                  onChange: e => updateBrdInput(\"constraints\", e.target.value),\n                  style: {\n                    ...inputStyle\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2089,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    fontWeight: 600\n                  },\n                  children: \"Validations / Acceptance Criteria\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2091,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: brdInputs.validations,\n                  onChange: e => updateBrdInput(\"validations\", e.target.value),\n                  style: {\n                    ...inputStyle,\n                    minHeight: 80\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2092,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    gap: 10,\n                    marginTop: 12\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleBrdSubmit,\n                    style: {\n                      ...topButton\n                    },\n                    children: \"SUBMIT\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2095,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      if (savedProjectName) handleBrdApprove(savedProjectName);else setMsg(\"Save project first to approve.\");\n                    },\n                    style: {\n                      background: \"#047857\",\n                      color: \"#fff\",\n                      border: \"none\",\n                      padding: \"8px 14px\",\n                      borderRadius: 8\n                    },\n                    children: \"APPROVE\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2096,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleBrdClear,\n                    style: {\n                      background: \"#ef4444\",\n                      color: \"#fff\",\n                      border: \"none\",\n                      padding: \"8px 14px\",\n                      borderRadius: 8\n                    },\n                    children: \"CLEAR\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2097,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2094,\n                  columnNumber: 21\n                }, this), brdPreviewVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginTop: 16,\n                    border: \"1px solid #e6e9ef\",\n                    borderRadius: 8,\n                    overflow: \"hidden\",\n                    background: \"#fff\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"flex\",\n                      justifyContent: \"space-between\",\n                      alignItems: \"center\",\n                      padding: \"8px 12px\",\n                      borderBottom: \"1px solid #eef2f6\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontWeight: 700\n                      },\n                      children: [\"BRD Preview \\u2014 Version \", brdPreviewVersion]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2103,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: \"flex\",\n                        gap: 8\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => downloadAsWord(brdPreviewHtml, `${savedProjectName}_BRD_v${brdPreviewVersion}.doc`),\n                        style: {\n                          padding: \"6px 10px\",\n                          borderRadius: 6,\n                          background: \"#fff\",\n                          border: \"1px solid #e6e9ef\",\n                          cursor: \"pointer\"\n                        },\n                        children: \"Download\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2105,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => {\n                          if (savedProjectName) handleBrdApprove(savedProjectName);else setMsg(\"Save project first to approve.\");\n                        },\n                        style: {\n                          padding: \"6px 10px\",\n                          borderRadius: 6,\n                          background: \"#047857\",\n                          color: \"#fff\",\n                          border: \"none\",\n                          cursor: \"pointer\"\n                        },\n                        children: \"Approve\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2106,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: closeBrdPreview,\n                        style: {\n                          padding: \"6px 10px\",\n                          borderRadius: 6,\n                          background: \"#ef4444\",\n                          color: \"#fff\",\n                          border: \"none\",\n                          cursor: \"pointer\"\n                        },\n                        children: \"Close Preview\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2107,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2104,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2102,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      padding: 16,\n                      maxHeight: 420,\n                      overflow: \"auto\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      dangerouslySetInnerHTML: {\n                        __html: brdPreviewHtml\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2111,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2110,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2101,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2070,\n                columnNumber: 19\n              }, this), documentGenerator && documentGenerator !== \"BRD Creation\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 18\n                },\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"#6b7280\"\n                  },\n                  children: [\"Selected: \", documentGenerator, \". Document editor will appear here.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2120,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2119,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1878,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1856,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1855,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1837,\n        columnNumber: 9\n      }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"fixed\",\n          bottom: 20,\n          right: 20,\n          background: \"#111827\",\n          color: \"#fff\",\n          padding: \"10px 14px\",\n          borderRadius: 8\n        },\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2128,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1836,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: pageStyle,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 1200,\n        margin: \"0 auto\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          marginBottom: 18\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            margin: 0,\n            color: \"#0f172a\"\n          },\n          children: \"BA Assistant Tool\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 10,\n            alignItems: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: topButton,\n            onClick: handleAddProject,\n            children: \"+ New Project\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            style: {\n              background: \"transparent\",\n              border: \"1px solid #e6e9ef\",\n              padding: \"8px 12px\",\n              borderRadius: 8,\n              cursor: \"pointer\"\n            },\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2140,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2138,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2136,\n        columnNumber: 9\n      }, this), selectedSearchProject ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: cardStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 13,\n                color: \"#6b7280\",\n                fontWeight: 600\n              },\n              children: \"Project\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2148,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 6,\n                fontSize: 18,\n                fontWeight: 700,\n                color: \"#0f172a\"\n              },\n              children: selectedSearchProject\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2149,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2147,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setSelectedSearchProject(\"\");\n                setSearchTerm(\"\");\n              },\n              style: {\n                background: \"transparent\",\n                border: \"1px solid #e6e9ef\",\n                padding: \"8px 12px\",\n                borderRadius: 8\n              },\n              children: \"Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2152,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2151,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2146,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 700,\n              marginBottom: 8\n            },\n            children: \"Documents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2157,\n            columnNumber: 15\n          }, this), (_projects$selectedSea = projects[selectedSearchProject]) !== null && _projects$selectedSea !== void 0 && (_projects$selectedSea2 = _projects$selectedSea.documents) !== null && _projects$selectedSea2 !== void 0 && _projects$selectedSea2.length ? /*#__PURE__*/_jsxDEV(\"table\", {\n            style: {\n              width: \"100%\",\n              borderCollapse: \"collapse\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  textAlign: \"left\",\n                  borderBottom: \"1px solid #eef2f6\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    padding: \"8px 6px\"\n                  },\n                  children: \"Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2162,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    padding: \"8px 6px\"\n                  },\n                  children: \"Version\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2163,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    padding: \"8px 6px\"\n                  },\n                  children: \"Approved\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2164,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    padding: \"8px 6px\"\n                  },\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2165,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2161,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2160,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: projects[selectedSearchProject].documents.map(d => /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  borderBottom: \"1px solid #f3f4f6\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: \"10px 6px\"\n                  },\n                  children: d.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2171,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: \"10px 6px\"\n                  },\n                  children: d.version\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2172,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: \"10px 6px\"\n                  },\n                  children: d.approved ? \"Yes\" : \"No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2173,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: \"10px 6px\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDownloadDoc(selectedSearchProject, d),\n                    style: {\n                      marginRight: 8,\n                      padding: \"6px 10px\",\n                      borderRadius: 6,\n                      border: \"1px solid #e6e9ef\",\n                      background: \"#fff\",\n                      cursor: \"pointer\"\n                    },\n                    children: \"Download\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2175,\n                    columnNumber: 27\n                  }, this), !d.approved && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setProjects(prev => {\n                        const copy = {\n                          ...prev\n                        };\n                        const p = copy[selectedSearchProject];\n                        if (!p) return prev;\n                        const idx = p.documents.findIndex(x => x.id === d.id);\n                        if (idx >= 0) p.documents[idx].approved = true;\n                        copy[selectedSearchProject] = p;\n                        return copy;\n                      });\n                      setMsg(\"Document approved.\");\n                      setTimeout(() => setMsg(\"\"), 1200);\n                    },\n                    style: {\n                      padding: \"6px 10px\",\n                      borderRadius: 6,\n                      background: \"#047857\",\n                      color: \"#fff\",\n                      border: \"none\",\n                      cursor: \"pointer\"\n                    },\n                    children: \"Approve\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2176,\n                    columnNumber: 43\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2174,\n                  columnNumber: 25\n                }, this)]\n              }, d.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2170,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2168,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2159,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"#6b7280\"\n            },\n            children: \"No documents found for this project.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2195,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2156,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2145,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"grid\",\n            gridTemplateColumns: \"1fr 1fr\",\n            gap: 20,\n            marginTop: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              ...cardStyle,\n              padding: 24\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: 13,\n                    color: \"#6b7280\",\n                    fontWeight: 600\n                  },\n                  children: \"Total Projects\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2205,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginTop: 8,\n                    fontSize: 22,\n                    fontWeight: 700,\n                    color: \"#111827\"\n                  },\n                  children: \"Projects overview\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2206,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2204,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleAddProject,\n                  style: {\n                    ...topButton,\n                    padding: \"6px 10px\",\n                    fontSize: 13\n                  },\n                  children: \"Add\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2209,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2208,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2203,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 18,\n                textAlign: \"center\",\n                paddingTop: 12,\n                borderTop: \"1px solid #eef2f6\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 28,\n                  fontWeight: 800\n                },\n                children: Object.keys(projects).length || totalProjects\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2214,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 6,\n                  color: \"#6b7280\",\n                  fontSize: 13\n                },\n                children: \"Total projects\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2215,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2213,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2202,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              ...cardStyle,\n              padding: 24\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: 13,\n                    color: \"#6b7280\",\n                    fontWeight: 600\n                  },\n                  children: \"Completed Projects\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2222,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginTop: 8,\n                    fontSize: 22,\n                    fontWeight: 700,\n                    color: \"#111827\"\n                  },\n                  children: \"Completion status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2223,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2221,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCompleteProject,\n                  style: {\n                    background: \"#047857\",\n                    color: \"#fff\",\n                    padding: \"6px 10px\",\n                    borderRadius: 8,\n                    border: \"none\",\n                    cursor: \"pointer\",\n                    fontWeight: 600,\n                    fontSize: 13\n                  },\n                  children: \"Mark Complete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2226,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2225,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2220,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 18,\n                textAlign: \"center\",\n                paddingTop: 12,\n                borderTop: \"1px solid #eef2f6\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 28,\n                  fontWeight: 800,\n                  color: \"#059669\"\n                },\n                children: completedProjects\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2231,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 6,\n                  color: \"#6b7280\",\n                  fontSize: 13\n                },\n                children: \"Completed projects\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2232,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2230,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2219,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2201,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 700,\n              marginBottom: 8\n            },\n            children: \"Recent Projects\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2238,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              gap: 12,\n              flexWrap: \"wrap\"\n            },\n            children: Object.keys(projects).length ? Object.keys(projects).map(k => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: \"#fff\",\n                padding: 12,\n                borderRadius: 8,\n                boxShadow: \"0 4px 12px rgba(16,24,40,0.04)\",\n                minWidth: 200\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 700\n                },\n                children: k\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2242,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 8\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setSelectedSearchProject(k);\n                    setSearchTerm(k);\n                  },\n                  style: {\n                    padding: \"6px 10px\",\n                    borderRadius: 6,\n                    border: \"1px solid #e6e9ef\",\n                    background: \"#fff\",\n                    cursor: \"pointer\"\n                  },\n                  children: \"Open\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2244,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2243,\n                columnNumber: 21\n              }, this)]\n            }, k, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2241,\n              columnNumber: 19\n            }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"#6b7280\"\n              },\n              children: \"No projects yet. Create one with + New Project.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2247,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2239,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2237,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2200,\n        columnNumber: 11\n      }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"fixed\",\n          bottom: 20,\n          right: 20,\n          background: \"#111827\",\n          color: \"#fff\",\n          padding: \"10px 14px\",\n          borderRadius: 8\n        },\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2253,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2135,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2134,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"TG6inzbQADlY0W3wf7KcXXaJpqI=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","App","_s","_projects$selectedSea","_projects$selectedSea2","user","setUser","pass","setPass","msg","setMsg","isLoggedIn","setIsLoggedIn","totalProjects","setTotalProjects","completedProjects","setCompletedProjects","isCreatingProject","setIsCreatingProject","projectName","setProjectName","savedProjectName","setSavedProjectName","selectedModule","setSelectedModule","documentGenerator","setDocumentGenerator","MODULES","DOC_OPTIONS","STORAGE_KEY","projects","setProjects","raw","localStorage","getItem","JSON","parse","brdInputs","setBrdInputs","scope","objectives","budget","briefRequirements","assumptions","constraints","validations","frdInputs","setFrdInputs","brdText","brdPreviewHtml","setBrdPreviewHtml","brdPreviewVersion","setBrdPreviewVersion","brdPreviewVisible","setBrdPreviewVisible","frdPreviewHtml","setFrdPreviewHtml","frdPreviewVersion","setFrdPreviewVersion","frdPreviewVisible","setFrdPreviewVisible","frdLoading","setFrdLoading","searchTerm","setSearchTerm","selectedSearchProject","setSelectedSearchProject","setItem","stringify","total","Object","keys","length","approvedCount","values","reduce","acc","p","documents","filter","d","approved","updateBrdInput","k","v","s","updateFrdInput","closeBrdPreview","closeFrdPreview","downloadAsWord","htmlContent","filename","preface","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","endsWith","body","appendChild","click","remove","revokeObjectURL","err","setTimeout","detectBusinessDomain","inputs","project","allContent","requirements","join","toLowerCase","console","log","substring","financialKeywords","financialScore","keyword","includes","marketingKeywords","marketingScore","healthcareKeywords","healthcareScore","ecommerceKeywords","ecommerceScore","financial","marketing","healthcare","ecommerce","scores","domain","score","topDomain","max","current","toUpperCase","getValidationCriteria","detectedDomain","projectLower","generateBrdHtml","version","idxItems","html","map","i","replace","formatRequirementsAsEpics","generateFrdFromBrd","detectDomainFromBrdText","extractRequirementsFromBrd","epics","convertRequirementsToEpics","userStories","convertEpicsToUserStories","epic","id","title","description","businessValue","acceptanceCriteria","criteria","story","asA","iWant","soThat","validationCriteria","validation","priority","storyPoints","functionalRequirements","req","text","domainKeywords","telecom","airline","maxScore","forEach","lines","split","line","trim","currentEpicId","currentEpicTitle","inRequirementsSection","match","_line$split$","startsWith","cleanLine","push","epicId","epicTitle","determinePriority","isDetailed","getDefaultEpicsForDomain","epicGroups","reqs","generateMeaningfulEpicTitle","generateEpicDescription","getDomainBusinessValue","generateEpicAcceptanceCriteria","some","r","reqText","Array","isArray","mainFunctions","slice","reqLower","getDomainSpecificGrouping","groups","feature","section","_domainValues$domain","domainValues","getDomainAcceptanceCriteria","_domainCriteria$domai","domainCriteria","defaults","epicIndex","stories","generateUserStoriesFromRequirements","storyGroups","groupRequirementsIntoStories","storyGroup","storyIndex","storyId","String","padStart","persona","getAppropriatePersona","storyTitle","generateStoryTitle","storyWant","generateStoryWant","storySoThat","generateStorySoThat","generateStoryAcceptanceCriteria","getStoryValidationCriteria","action","calculateStoryPoints","focus","mid","Math","ceil","_defaultPersonas$doma","defaultPersonas","firstReq","complexity","groupRequirementsByFeature","baseValidations","domainSpecificValidations","actionSpecificValidations","personaSpecificValidations","domainValidations","concat","uniqueValidations","Set","min","currentEpic","epicCount","index","generateEpicTitle","getEpicPriority","firstRequirement","saveDocumentToProject","docType","prev","newPrev","name","existingCount","doc","Date","now","createdAt","toISOString","handleSubmit","e","preventDefault","handleAddProject","handleSaveProject","handleCancelCreate","handleCompleteProject","c","handleLogout","handleBrdSubmit","_projects$project","_projects$project$doc","_projects$project$doc2","handleFrdSubmit","_projects$project2","_projects$project2$do","_projects$project2$do2","handleBrdApprove","copy","brds","latest","b","handleFrdApprove","frds","handleBrdClear","handleFrdClear","loadSampleHealthcareBRD","sampleBRD","setFormData","projectScope","businessObjectives","budgetDetails","loadSampleEcommerceBRD","handleDownloadDoc","handleSearch","found","find","pageStyle","minHeight","background","padding","fontFamily","cardStyle","borderRadius","boxShadow","color","inputStyle","display","width","margin","border","fontSize","outline","topButton","cursor","fontWeight","style","alignItems","justifyContent","children","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","marginBottom","onSubmit","value","onChange","target","placeholder","required","maxWidth","gap","onClick","m","flex","disabled","overflow","borderBottom","maxHeight","dangerouslySetInnerHTML","__html","position","bottom","right","borderCollapse","textAlign","marginRight","idx","findIndex","x","gridTemplateColumns","paddingTop","borderTop","flexWrap","minWidth","_c","$RefreshReg$"],"sources":["C:/Users/pavan/OneDrive/Desktop/ba-tool/react-python-auth/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nexport default function App() {\n  const [user, setUser] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  const [totalProjects, setTotalProjects] = useState(0);\n  const [completedProjects, setCompletedProjects] = useState(0);\n\n  const [isCreatingProject, setIsCreatingProject] = useState(false);\n  const [projectName, setProjectName] = useState(\"\");\n  const [savedProjectName, setSavedProjectName] = useState(\"\");\n  const [selectedModule, setSelectedModule] = useState(\"BRD Generation\");\n  const [documentGenerator, setDocumentGenerator] = useState(\"\");\n\n  const MODULES = [\n    \"BRD Generation\",\n    \"FRD Generation\",\n    \"SRS Generation\",\n    \"Impact Analysis\",\n    \"Requirement Priortization\",\n    \"Wireframe Generator\",\n    \"Prototype Generator\",\n  ];\n\n  const DOC_OPTIONS = [\n    \"BRD Creation\",\n    \"FRD Creation\",\n    \"SRS Creation\",\n    \"Impact Analysis\",\n    \"Requirement Priortization\",\n    \"Wire Frame Generator\",\n    \"Prototype Generator\",\n  ];\n\n  const STORAGE_KEY = \"ba_projects_v1\";\n  const [projects, setProjects] = useState(() => {\n    try {\n      const raw = localStorage.getItem(STORAGE_KEY);\n      return raw ? JSON.parse(raw) : {};\n    } catch {\n      return {};\n    }\n  });\n\n  const [brdInputs, setBrdInputs] = useState({\n    scope: \"\",\n    objectives: \"\",\n    budget: \"\",\n    briefRequirements: \"\",\n    assumptions: \"\",\n    constraints: \"\",\n    validations: \"\",\n  });\n\n  const [frdInputs, setFrdInputs] = useState({\n    brdText: \"\",\n  });\n\n  const [brdPreviewHtml, setBrdPreviewHtml] = useState(\"\");\n  const [brdPreviewVersion, setBrdPreviewVersion] = useState(null);\n  const [brdPreviewVisible, setBrdPreviewVisible] = useState(false);\n\n  const [frdPreviewHtml, setFrdPreviewHtml] = useState(\"\");\n  const [frdPreviewVersion, setFrdPreviewVersion] = useState(null);\n  const [frdPreviewVisible, setFrdPreviewVisible] = useState(false);\n  const [frdLoading, setFrdLoading] = useState(false);\n\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedSearchProject, setSelectedSearchProject] = useState(\"\");\n\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(projects));\n    const total = Object.keys(projects).length;\n    const approvedCount = Object.values(projects).reduce((acc, p) => {\n      return acc + (p.documents ? p.documents.filter((d) => d.approved).length : 0);\n    }, 0);\n    setTotalProjects(total);\n    setCompletedProjects(approvedCount);\n  }, [projects]);\n\n  const updateBrdInput = (k, v) => setBrdInputs((s) => ({ ...s, [k]: v }));\n  const updateFrdInput = (k, v) => setFrdInputs((s) => ({ ...s, [k]: v }));\n\n  const closeBrdPreview = () => {\n    setBrdPreviewVisible(false);\n    setBrdPreviewHtml(\"\");\n    setBrdPreviewVersion(null);\n  };\n\n  const closeFrdPreview = () => {\n    setFrdPreviewVisible(false);\n    setFrdPreviewHtml(\"\");\n    setFrdPreviewVersion(null);\n  };\n\n  const downloadAsWord = (htmlContent, filename) => {\n    try {\n      const preface = `<!DOCTYPE html><html><head><meta charset=\"utf-8\"><title>${filename}</title></head><body>`;\n      const blob = new Blob([preface + htmlContent + \"</body></html>\"], {\n        type: \"application/msword\",\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = filename.endsWith(\".doc\") ? filename : filename + \".doc\";\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      URL.revokeObjectURL(url);\n    } catch (err) {\n      setMsg(\"Failed to download document.\");\n      setTimeout(() => setMsg(\"\"), 2000);\n    }\n  };\n\n  const detectBusinessDomain = (inputs, project) => {\n    // Combine all relevant text for intelligent domain analysis\n    const allContent = [\n      project || \"\",\n      inputs.briefRequirements || \"\",\n      inputs.requirements || \"\",\n      inputs.scope || \"\",\n      inputs.objectives || \"\",\n      inputs.assumptions || \"\",\n      inputs.constraints || \"\"\n    ].join(\" \").toLowerCase();\n\n    console.log(\"ü§ñ AI Domain Analysis for content:\", allContent.substring(0, 200) + \"...\");\n\n    // Financial/Banking Domain Detection\n    const financialKeywords = ['bank', 'banking', 'finance', 'financial', 'account', 'transaction', 'payment', 'credit', 'debit', 'loan', 'invoice', 'billing', 'accounting', 'journal', 'ledger', 'reconciliation', 'audit', 'compliance', 'regulatory', 'gl', 'p&l', 'balance sheet', 'cash flow', 'revenue', 'expense', 'asset', 'liability', 'equity'];\n    const financialScore = financialKeywords.filter(keyword => allContent.includes(keyword)).length;\n\n    // Marketing Domain Detection  \n    const marketingKeywords = ['marketing', 'campaign', 'email', 'customer', 'lead', 'prospect', 'automation', 'crm', 'sales', 'communication', 'newsletter', 'promotion', 'advertising', 'brand', 'social media', 'engagement', 'conversion', 'funnel', 'roi', 'analytics', 'tracking', 'segment', 'target audience', 'personalization'];\n    const marketingScore = marketingKeywords.filter(keyword => allContent.includes(keyword)).length;\n\n    // Healthcare Domain Detection\n    const healthcareKeywords = ['health', 'healthcare', 'patient', 'medical', 'hospital', 'clinic', 'doctor', 'nurse', 'treatment', 'diagnosis', 'medication', 'prescription', 'hipaa', 'ehr', 'emr', 'appointment', 'billing', 'insurance', 'claim'];\n    const healthcareScore = healthcareKeywords.filter(keyword => allContent.includes(keyword)).length;\n\n    // E-commerce Domain Detection\n    const ecommerceKeywords = ['ecommerce', 'e-commerce', 'online store', 'shopping', 'cart', 'checkout', 'product', 'inventory', 'order', 'shipping', 'payment gateway', 'catalog', 'customer', 'purchase', 'retail', 'marketplace'];\n    const ecommerceScore = ecommerceKeywords.filter(keyword => allContent.includes(keyword)).length;\n\n    console.log(\"üîç Domain Scores:\", { financial: financialScore, marketing: marketingScore, healthcare: healthcareScore, ecommerce: ecommerceScore });\n\n    // Return the domain with highest score (minimum 2 keywords to avoid false positives)\n    const scores = [\n      { domain: 'marketing', score: marketingScore },\n      { domain: 'financial', score: financialScore },\n      { domain: 'healthcare', score: healthcareScore },\n      { domain: 'ecommerce', score: ecommerceScore }\n    ];\n\n    const topDomain = scores.reduce((max, current) => current.score > max.score ? current : max);\n    \n    if (topDomain.score >= 2) {\n      console.log(\"‚úÖ AI DETECTED DOMAIN:\", topDomain.domain.toUpperCase());\n      return topDomain.domain;\n    }\n\n    console.log(\"‚ùì Domain unclear, using generic validation\");\n    return 'generic';\n  };\n\n  const getValidationCriteria = (inputs, project) => {\n    console.log(\"üîç getValidationCriteria called with:\", { inputs, project });\n    \n    // Always use AI domain detection, ignore user validation for now to test the intelligence\n    const detectedDomain = detectBusinessDomain(inputs, project);\n    \n    // Generate domain-specific validation based on AI detection\n    switch (detectedDomain) {\n      case 'marketing':\n        return `‚Ä¢ Enforce customer consent validation for communication preferences<br/>\n‚Ä¢ Validate email address format and deliverability standards<br/>\n‚Ä¢ Implement campaign performance tracking and attribution models<br/>\n‚Ä¢ Enforce A/B testing validation for campaign optimization<br/>\n‚Ä¢ Validate lead scoring and segmentation accuracy<br/>\n‚Ä¢ Ensure GDPR compliance for customer data processing`;\n\n      case 'financial':\n        return `‚Ä¢ Enforce multi-level approval workflows for financial transactions<br/>\n‚Ä¢ Validate accounting equation balance (Assets = Liabilities + Equity)<br/>\n‚Ä¢ Implement audit trail requirements for all financial entries<br/>\n‚Ä¢ Enforce regulatory compliance checks (SOX, GAAP)<br/>\n‚Ä¢ Validate currency conversion and rounding rules<br/>\n‚Ä¢ Implement segregation of duties for financial operations`;\n\n      case 'healthcare':\n        return `‚Ä¢ Enforce HIPAA compliance for patient data protection<br/>\n‚Ä¢ Validate medical record integrity and audit trails<br/>\n‚Ä¢ Implement patient consent validation for treatments<br/>\n‚Ä¢ Enforce prescription and medication safety checks<br/>\n‚Ä¢ Validate provider credentials and licensing<br/>\n‚Ä¢ Implement emergency access protocols for patient data`;\n\n      case 'ecommerce':\n        return `‚Ä¢ Validate inventory levels before order confirmation<br/>\n‚Ä¢ Enforce payment gateway security and PCI compliance<br/>\n‚Ä¢ Implement order fulfillment and shipping validation<br/>\n‚Ä¢ Validate product pricing and discount calculations<br/>\n‚Ä¢ Enforce customer authentication and fraud detection<br/>\n‚Ä¢ Implement return and refund policy validation`;\n\n      default:\n        return `‚Ä¢ Validate data integrity and consistency across all modules<br/>\n‚Ä¢ Implement user authentication and authorization controls<br/>\n‚Ä¢ Enforce business rule validation and exception handling<br/>\n‚Ä¢ Validate system performance and scalability requirements<br/>\n‚Ä¢ Implement audit logging for all critical operations<br/>\n‚Ä¢ Enforce data backup and disaster recovery procedures`;\n    }\n    \n    if (projectLower.includes(\"healthcare\") || projectLower.includes(\"patient\") || projectLower.includes(\"medical\")) {\n      return `‚Ä¢ Enforce mandatory patient demographic fields (name, DOB, SSN)<br/>\n‚Ä¢ Validate medical record privacy and HIPAA compliance<br/>\n‚Ä¢ Require physician authorization for prescription access<br/>\n‚Ä¢ Enforce audit trails for all patient data modifications`;\n    }\n    \n    if (projectLower.includes(\"banking\") || projectLower.includes(\"financial\") || projectLower.includes(\"payment\")) {\n      return `‚Ä¢ Enforce strong customer authentication and account verification<br/>\n‚Ä¢ Validate transaction limits and fraud detection rules<br/>\n‚Ä¢ Require regulatory compliance with banking standards<br/>\n‚Ä¢ Enforce real-time balance verification before transactions`;\n    }\n    \n    if (projectLower.includes(\"ecommerce\") || projectLower.includes(\"shopping\") || projectLower.includes(\"order\")) {\n      return `‚Ä¢ Enforce product inventory validation before order confirmation<br/>\n‚Ä¢ Validate shipping address and payment method accuracy<br/>\n‚Ä¢ Require secure checkout process with payment verification<br/>\n‚Ä¢ Enforce order tracking and delivery confirmation`;\n    }\n    \n    // Default professional validation criteria\n    return `‚Ä¢ Enforce data accuracy and completeness validation<br/>\n‚Ä¢ Validate user access controls and authentication<br/>\n‚Ä¢ Require audit trails for all system modifications<br/>\n‚Ä¢ Enforce security protocols and compliance standards`;\n  };\n\n  const generateBrdHtml = ({ project, inputs, version }) => {\n    const idxItems = [\n      \"Executive Summary\",\n      \"Project Scope\",\n      \"Business Objectives\",\n      \"Budget Details\",\n      \"Business Requirements\",\n      \"Assumptions\",\n      \"Constraints\",\n      \"Validations & Acceptance Criteria\",\n      \"Appendices\",\n    ];\n    const html = `\n      <div style=\"font-family:Calibri, Arial, Helvetica, sans-serif;color:#111827;line-height:1.45;padding:18px;\">\n        <h1 style=\"text-align:center;margin-bottom:6px;\">Business Requirement Document (BRD)</h1>\n        <h2 style=\"text-align:center;margin-top:2px;\">${project} ‚Äî BRD Version-${version}</h2>\n        <hr/>\n        <h3>Document Index</h3>\n        <ol>\n          ${idxItems.map((i) => `<li>${i}</li>`).join(\"\")}\n        </ol>\n\n        <h2>1. Executive Summary</h2>\n        <p>This document captures the business requirements for the project <strong>${project}</strong>. It follows standard BA practice aligned to BABOK and provides the scope, objectives, requirements, budget and validations required for delivering the solution.</p>\n\n        <h2>2. Project Scope</h2>\n        <p>${(inputs.scope || \"\").replace(/\\n/g, \"<br/>\")}</p>\n\n        <h2>3. Business Objectives</h2>\n        <p>${(inputs.objectives || \"\").replace(/\\n/g, \"<br/>\")}</p>\n\n        <h2>4. Budget Details</h2>\n        <p>${(inputs.budget || \"\").replace(/\\n/g, \"<br/>\")}</p>\n\n        <h2>5. Business Requirements (EPIC Format)</h2>\n        ${formatRequirementsAsEpics(inputs.briefRequirements || \"\", project)}\n\n        <h2>6. Assumptions</h2>\n        <p>${(inputs.assumptions || \"\").replace(/\\n/g, \"<br/>\")}</p>\n\n        <h2>7. Constraints</h2>\n        <p>${(inputs.constraints || \"\").replace(/\\n/g, \"<br/>\")}</p>\n\n        <h2>8. Validations & Acceptance Criteria</h2>\n        <p>ü§ñ AI DOMAIN DETECTION ACTIVE - ${getValidationCriteria(inputs, project)}</p>\n\n        <h2>9. Appendices</h2>\n        <p>Appendix A: Glossary<br/>Appendix B: References</p>\n\n        <hr/>\n        <p style=\"font-size:11px;color:#6b7280;\">Generated by BA Assistant Tool</p>\n      </div>\n    `;\n    return html;\n  };\n\n  // STANDALONE FRD GENERATION - Convert BRD to FRD with EPIC formatting\n  const generateFrdFromBrd = (brdText, project, version) => {\n    // Extract business domain from BRD text\n    const domain = detectDomainFromBrdText(brdText);\n    \n    // Parse requirements from BRD to create EPICs and User Stories\n    const requirements = extractRequirementsFromBrd(brdText);\n    const epics = convertRequirementsToEpics(requirements, domain);\n    const userStories = convertEpicsToUserStories(epics, domain);\n    \n    const html = `\n      <div style=\"font-family:Calibri, Arial, Helvetica, sans-serif;color:#111827;line-height:1.45;padding:18px;\">\n        <h1 style=\"text-align:center;margin-bottom:6px;\">Functional Requirement Document (FRD)</h1>\n        <h2 style=\"text-align:center;margin-top:2px;\">${project} ‚Äî FRD Version-${version}</h2>\n        <div style=\"background:#f3f4f6;padding:8px;border-radius:4px;margin:12px 0;\">\n          <strong>ü§ñ AI DOMAIN INTELLIGENCE: ${domain.toUpperCase()} DOMAIN DETECTED</strong>\n        </div>\n        <hr/>\n        \n        <h3>Document Index</h3>\n        <ol>\n          <li>Executive Summary</li>\n          <li>EPIC Breakdown</li>\n          <li>User Stories</li>\n          <li>Functional Requirements</li>\n          <li>Acceptance Criteria</li>\n          <li>Technical Specifications</li>\n        </ol>\n\n        <h2>1. Executive Summary</h2>\n        <p>This Functional Requirements Document (FRD) translates the business requirements into detailed functional specifications for <strong>${project}</strong>. \n        The requirements are organized into EPICs and User Stories following Agile methodology with ${domain}-specific domain expertise.</p>\n\n        <h2>2. EPIC Breakdown</h2>\n        ${epics.map(epic => `\n          <div style=\"border:1px solid #d1d5db;margin:10px 0;padding:12px;border-radius:6px;\">\n            <h3 style=\"color:#1f2937;margin-top:0;\">${epic.id}: ${epic.title}</h3>\n            <p><strong>Description:</strong> ${epic.description}</p>\n            <p><strong>Business Value:</strong> ${epic.businessValue}</p>\n            <p><strong>Acceptance Criteria:</strong></p>\n            <ul>\n              ${epic.acceptanceCriteria.map(criteria => `<li>${criteria}</li>`).join('')}\n            </ul>\n          </div>\n        `).join('')}\n\n        <h2>3. User Stories</h2>\n        ${userStories.map(story => `\n          <div style=\"border:1px solid #e5e7eb;margin:8px 0;padding:10px;border-radius:4px;background:#f9fafb;\">\n            <h4 style=\"color:#374151;margin-top:0;\">${story.id}: ${story.title}</h4>\n            <p><strong>As a</strong> ${story.asA}, <strong>I want</strong> ${story.iWant}, <strong>so that</strong> ${story.soThat}.</p>\n            <p><strong>Acceptance Criteria:</strong></p>\n            <ul>\n              ${story.acceptanceCriteria.map(criteria => `<li>${criteria}</li>`).join('')}\n            </ul>\n            <div style=\"background:#fff3cd;padding:8px;border-radius:4px;margin:8px 0;border-left:4px solid #ffc107;\">\n              <p style=\"margin:0;\"><strong>üîç Validation Criteria:</strong></p>\n              <ul style=\"margin:4px 0 0 0;\">\n                ${story.validationCriteria.map(validation => `<li>${validation}</li>`).join('')}\n              </ul>\n            </div>\n            <p><strong>Priority:</strong> ${story.priority} | <strong>Story Points:</strong> ${story.storyPoints}</p>\n          </div>\n        `).join('')}\n\n        <h2>4. Functional Requirements</h2>\n        <p>The following functional requirements have been derived from the business requirements and organized by EPIC:</p>\n        ${epics.map(epic => `\n          <h3>${epic.id} Functional Requirements</h3>\n          <ul>\n            ${epic.functionalRequirements.map(req => `<li>${req}</li>`).join('')}\n          </ul>\n        `).join('')}\n\n        <h2>5. Acceptance Criteria</h2>\n        <p>Each EPIC and User Story includes specific acceptance criteria tailored for the ${domain} domain:</p>\n        <ul>\n          <li>All functional requirements must be validated against ${domain} industry standards</li>\n          <li>User acceptance testing must cover all defined user stories</li>\n          <li>Performance criteria must meet ${domain}-specific requirements</li>\n          <li>Security and compliance requirements must be validated</li>\n        </ul>\n\n        <h2>6. Technical Specifications</h2>\n        <p>Technical implementation details will be defined in separate Technical Requirements Document (TRD) based on these functional requirements.</p>\n\n        <hr/>\n        <p style=\"font-size:11px;color:#6b7280;\">Generated by BA Assistant Tool with AI Domain Intelligence</p>\n      </div>\n    `;\n    return html;\n  };\n\n  // Domain detection specifically for FRD generation from BRD text\n  const detectDomainFromBrdText = (brdText) => {\n    const text = brdText.toLowerCase();\n    \n    const domainKeywords = {\n      telecom: ['telecom', 'telecommunication', 'sim', 'esim', 'mnp', 'ocs', 'billing', 'charging', 'kyc', 'activation', 'provisioning', 'hlr', 'hss', 'udm', 'pcf', 'trai', 'dot', 'carrier', 'subscriber', 'msisdn', 'imsi', 'network', 'tariff', 'plan', 'postpaid', 'prepaid', 'roaming', 'sms', 'data', 'voice', 'bss', 'oss', 'revenue assurance', 'dunning', 'mediation'],\n      airline: ['flight', 'airline', 'aviation', 'passenger', 'booking', 'pnr', 'ticket', 'fare', 'seat', 'baggage', 'airport', 'gds', 'iata', 'aircraft', 'departure', 'arrival', 'ancillary', 'itinerary', 'check-in', 'boarding'],\n      financial: ['investment', 'portfolio', 'trading', 'finance', 'banking', 'fund', 'asset', 'equity', 'debt', 'risk', 'compliance', 'audit', 'revenue', 'profit', 'budget', 'cost', 'accounting', 'transaction'],\n      healthcare: ['patient', 'medical', 'clinical', 'diagnosis', 'treatment', 'healthcare', 'hospital', 'doctor', 'nurse', 'prescription', 'hipaa', 'medical record', 'clinical'],\n      ecommerce: ['product', 'cart', 'checkout', 'payment', 'order', 'inventory', 'shipping', 'customer', 'ecommerce', 'online store', 'marketplace', 'catalog'],\n      marketing: ['campaign', 'brand', 'customer', 'lead', 'conversion', 'engagement', 'social media', 'advertising', 'promotion', 'analytics', 'roi', 'ctr', 'cpc', 'segment']\n    };\n    \n    let maxScore = 0;\n    let detectedDomain = 'generic';\n    \n    Object.keys(domainKeywords).forEach(domain => {\n      const score = domainKeywords[domain].filter(keyword => text.includes(keyword)).length;\n      if (score > maxScore) {\n        maxScore = score;\n        detectedDomain = domain;\n      }\n    });\n    \n    console.log(`üéØ FRD Domain Detection: ${detectedDomain} (score: ${maxScore})`);\n    return detectedDomain;\n  };\n\n  // Helper functions for FRD generation\n  const extractRequirementsFromBrd = (brdText) => {\n    // Extract requirements from BRD text with improved parsing\n    const lines = brdText.split('\\n').map(line => line.trim()).filter(line => line);\n    const requirements = [];\n    \n    let currentEpicId = '';\n    let currentEpicTitle = '';\n    let inRequirementsSection = false;\n    \n    for (const line of lines) {\n      // Detect EPIC sections\n      if (line.match(/EPIC-\\d+/)) {\n        currentEpicId = line.match(/EPIC-\\d+/)[0];\n        currentEpicTitle = line.split(':')[1]?.trim() || 'Core System';\n        inRequirementsSection = false;\n        continue;\n      }\n      \n      // Detect Requirements sections within EPICs\n      if (line.toLowerCase().includes('requirements:') && currentEpicId) {\n        inRequirementsSection = true;\n        continue;\n      }\n      \n      // Extract detailed requirements from bullet points within EPIC sections\n      if (inRequirementsSection && (line.startsWith('‚Ä¢') || line.startsWith('-') || line.startsWith('*'))) {\n        const cleanLine = line.replace(/^[‚Ä¢\\-\\*]\\s*/, '').trim();\n        if (cleanLine.length > 10) {\n          requirements.push({\n            text: cleanLine,\n            epicId: currentEpicId,\n            epicTitle: currentEpicTitle,\n            priority: determinePriority(cleanLine),\n            isDetailed: true\n          });\n        }\n      }\n    }\n    \n    console.log(`üìã Extracted ${requirements.length} requirements from BRD:`);\n    requirements.forEach((req, i) => console.log(`  ${req.epicId}: ${req.text.substring(0, 80)}...`));\n    \n    return requirements;\n  };\n\n  const convertRequirementsToEpics = (requirements, domain) => {\n    const epics = [];\n    \n    if (requirements.length === 0) {\n      return getDefaultEpicsForDomain(domain);\n    }\n    \n    // Group requirements by EPIC ID and analyze content to create meaningful EPICs\n    const epicGroups = {};\n    requirements.forEach(req => {\n      const epicId = req.epicId || 'EPIC-01';\n      if (!epicGroups[epicId]) {\n        epicGroups[epicId] = [];\n      }\n      epicGroups[epicId].push(req);\n    });\n    \n    // Create EPICs based on actual requirements content\n    Object.keys(epicGroups).forEach(epicId => {\n      const reqs = epicGroups[epicId];\n      const epicTitle = generateMeaningfulEpicTitle(reqs, domain);\n      const description = generateEpicDescription(reqs, epicTitle, domain);\n      \n      epics.push({\n        id: epicId,\n        title: epicTitle,\n        description: description,\n        businessValue: getDomainBusinessValue(epicTitle, domain),\n        acceptanceCriteria: generateEpicAcceptanceCriteria(reqs, domain),\n        functionalRequirements: reqs.map(req => req.text),\n        priority: reqs.some(r => r.priority === 'High') ? 'High' : 'Medium'\n      });\n    });\n    \n    return epics;\n  };\n  \n  // Generate meaningful EPIC titles based on actual requirements\n  const generateMeaningfulEpicTitle = (requirements, domain) => {\n    // Handle both old format (array of objects with .text) and new format (array of strings)\n    const reqText = Array.isArray(requirements) \n      ? requirements.map(r => typeof r === 'string' ? r : r.text).join(' ').toLowerCase()\n      : requirements.toLowerCase();\n    \n    // Telecom domain specific grouping\n    if (domain === 'telecom') {\n      if (reqText.includes('lead to order') || reqText.includes('catalog') || reqText.includes('offer') || reqText.includes('eligibility') || reqText.includes('credit check')) {\n        return 'Product Catalog & Order Management';\n      }\n      if (reqText.includes('kyc') || reqText.includes('activation') || reqText.includes('sim') || reqText.includes('esim') || reqText.includes('mnp') || reqText.includes('provisioning')) {\n        return 'Customer Onboarding & SIM Activation';\n      }\n      if (reqText.includes('charging') || reqText.includes('billing') || reqText.includes('rating') || reqText.includes('ocs') || reqText.includes('invoicing') || reqText.includes('dunning')) {\n        return 'Charging & Billing Management';\n      }\n      if (reqText.includes('care') || reqText.includes('assurance') || reqText.includes('tickets') || reqText.includes('diagnostics') || reqText.includes('outages') || reqText.includes('knowledge base')) {\n        return 'Customer Care & Service Assurance';\n      }\n      if (reqText.includes('payment') || reqText.includes('collection') || reqText.includes('cards') || reqText.includes('upi') || reqText.includes('autopay') || reqText.includes('refund')) {\n        return 'Payment & Collection Management';\n      }\n      if (reqText.includes('partner') || reqText.includes('retailer') || reqText.includes('commission') || reqText.includes('inventory') || reqText.includes('sales reporting')) {\n        return 'Partner & Channel Management';\n      }\n      if (reqText.includes('analytics') || reqText.includes('compliance') || reqText.includes('usage') || reqText.includes('churn') || reqText.includes('revenue') || reqText.includes('audit') || reqText.includes('regulatory')) {\n        return 'Analytics & Regulatory Compliance';\n      }\n    }\n    \n    // Financial domain specific grouping\n    if (domain === 'financial') {\n      if (reqText.includes('intake') || reqText.includes('onboard') || reqText.includes('digital') || reqText.includes('form')) {\n        return 'Investor Onboarding & Digital Intake';\n      }\n      if (reqText.includes('kyc') || reqText.includes('aml') || reqText.includes('screening') || reqText.includes('compliance')) {\n        return 'Compliance & Risk Management';\n      }\n      if (reqText.includes('sign') || reqText.includes('document') || reqText.includes('stamp') || reqText.includes('version')) {\n        return 'Document Management & E-Signature';\n      }\n      if (reqText.includes('payment') || reqText.includes('bank') || reqText.includes('funding') || reqText.includes('penny')) {\n        return 'Payment & Fund Management';\n      }\n      if (reqText.includes('tracking') || reqText.includes('notification') || reqText.includes('communication') || reqText.includes('export')) {\n        return 'Communication & Integration Management';\n      }\n    }\n    \n    // Airline domain specific grouping\n    if (domain === 'airline') {\n      if (reqText.includes('search') || reqText.includes('shopping') || reqText.includes('availability')) {\n        return 'Flight Search & Shopping';\n      }\n      if (reqText.includes('booking') || reqText.includes('pnr') || reqText.includes('reservation')) {\n        return 'Booking & Reservation Management';\n      }\n      if (reqText.includes('payment') || reqText.includes('ticket') || reqText.includes('billing')) {\n        return 'Payment & Ticketing';\n      }\n    }\n    \n    // Generic grouping for other domains\n    if (reqText.includes('user') || reqText.includes('account') || reqText.includes('auth')) {\n      return 'User Management & Authentication';\n    }\n    if (reqText.includes('data') || reqText.includes('process') || reqText.includes('manage')) {\n      return 'Data Processing & Management';\n    }\n    if (reqText.includes('report') || reqText.includes('analytic') || reqText.includes('track')) {\n      return 'Reporting & Analytics';\n    }\n    \n    return 'Core Business Functionality';\n  };\n  \n  // Generate EPIC descriptions based on requirements\n  const generateEpicDescription = (requirements, title, domain) => {\n    const mainFunctions = requirements.slice(0, 3).map(r => r.text.toLowerCase()).join(', ');\n    return `Implement ${title.toLowerCase()} including ${mainFunctions} with ${domain}-specific business logic and industry compliance`;\n  };\n  \n  // Generate EPIC acceptance criteria based on actual requirements\n  const generateEpicAcceptanceCriteria = (requirements, domain) => {\n    const criteria = [];\n    \n    // Add requirement-specific criteria\n    requirements.slice(0, 3).forEach(req => {\n      const reqLower = req.text.toLowerCase();\n      if (reqLower.includes('intake') || reqLower.includes('form')) {\n        criteria.push('Digital forms are intuitive and guide users through the process');\n      }\n      if (reqLower.includes('validation') || reqLower.includes('verify')) {\n        criteria.push('Real-time validation provides immediate feedback to users');\n      }\n      if (reqLower.includes('document') || reqLower.includes('upload')) {\n        criteria.push('Document upload and management supports required file formats');\n      }\n      if (reqLower.includes('workflow') || reqLower.includes('approval')) {\n        criteria.push('Approval workflows enforce business rules and compliance');\n      }\n    });\n    \n    // Add domain-specific criteria\n    if (domain === 'financial') {\n      criteria.push('All functionality complies with financial regulations (SEC, FINRA)');\n      criteria.push('Audit trails are maintained for regulatory compliance');\n    }\n    \n    criteria.push('Performance meets industry standards');\n    criteria.push('Security and data protection requirements are satisfied');\n    \n    return criteria.slice(0, 4); // Limit to 4 criteria\n  };\n\n  // Domain-specific grouping logic\n  const getDomainSpecificGrouping = (requirements, domain) => {\n    const groups = {};\n    \n    if (domain === 'airline') {\n      // Airline-specific grouping\n      requirements.forEach(req => {\n        const text = req.text.toLowerCase();\n        let feature = 'Flight Operations';\n        \n        if (text.includes('search') || text.includes('availability') || text.includes('shopping')) {\n          feature = 'Flight Search & Shopping';\n        } else if (text.includes('booking') || text.includes('pnr') || text.includes('reservation')) {\n          feature = 'Booking & Reservation Management';\n        } else if (text.includes('payment') || text.includes('ticket') || text.includes('billing')) {\n          feature = 'Payment & Ticketing';\n        } else if (text.includes('seat') || text.includes('ancillary') || text.includes('baggage') || text.includes('meal')) {\n          feature = 'Ancillary Services';\n        } else if (text.includes('change') || text.includes('cancel') || text.includes('refund')) {\n          feature = 'Post-Booking Services';\n        } else if (text.includes('admin') || text.includes('ops') || text.includes('queue') || text.includes('report')) {\n          feature = 'Operations & Administration';\n        }\n        \n        if (!groups[feature]) groups[feature] = [];\n        groups[feature].push(req);\n      });\n    } else {\n      // Generic grouping for other domains\n      requirements.forEach(req => {\n        let feature = 'Core System';\n        \n        if (req.text.toLowerCase().includes('user') || req.text.toLowerCase().includes('auth')) {\n          feature = 'User Management';\n        } else if (req.text.toLowerCase().includes('data') || req.text.toLowerCase().includes('process')) {\n          feature = 'Data Processing';\n        } else if (req.text.toLowerCase().includes('report') || req.text.toLowerCase().includes('analytic')) {\n          feature = 'Reporting';\n        } else if (req.section && req.section !== '') {\n          feature = req.section;\n        }\n        \n        if (!groups[feature]) groups[feature] = [];\n        groups[feature].push(req);\n      });\n    }\n    \n    return groups;\n  };\n\n  // Domain-specific business value\n  const getDomainBusinessValue = (feature, domain) => {\n    const domainValues = {\n      airline: {\n        'Flight Search & Shopping': 'Enables passengers to find and compare flights, increasing conversion rates and revenue',\n        'Booking & Reservation Management': 'Streamlines reservation process, reducing abandonment and improving customer experience',\n        'Payment & Ticketing': 'Ensures secure payment processing and instant ticket issuance, reducing fraud and improving cash flow',\n        'Ancillary Services': 'Maximizes ancillary revenue through upselling services like seats, bags, and meals',\n        'Post-Booking Services': 'Reduces call center load and improves customer satisfaction through self-service options',\n        'Operations & Administration': 'Provides operational efficiency and business intelligence for airline staff'\n      }\n    };\n    \n    return domainValues[domain]?.[feature] || `Enables efficient ${feature.toLowerCase()} operations and improves ${domain} business processes`;\n  };\n\n  // Domain-specific acceptance criteria\n  const getDomainAcceptanceCriteria = (feature, domain) => {\n    const domainCriteria = {\n      airline: {\n        'Flight Search & Shopping': [\n          'Flight search results are returned within 3 seconds',\n          'All GDS/NDC sources are integrated and searchable',\n          'Fare rules and restrictions are clearly displayed',\n          'Search filters work correctly (price, timing, airline, stops)'\n        ],\n        'Booking & Reservation Management': [\n          'PNR creation follows IATA standards',\n          'Passenger data validation meets airline requirements',\n          'Seat selection integrates with airline seat maps',\n          'Booking confirmations are sent immediately'\n        ],\n        'Payment & Ticketing': [\n          'Payment processing is PCI DSS compliant',\n          'Ticket issuance follows IATA standards',\n          'Fraud detection rules are implemented',\n          'EMD generation for ancillaries is supported'\n        ],\n        'Ancillary Services': [\n          'Seat map integration displays real-time availability',\n          'Baggage rules are accurately calculated and displayed',\n          'Meal preferences are captured and transmitted to airline',\n          'Ancillary EMDs are generated automatically'\n        ],\n        'Post-Booking Services': [\n          'Change and cancellation rules are enforced automatically',\n          'Refund calculations follow airline fare rules',\n          'Schedule change notifications are sent real-time',\n          'Voucher and credit management is fully automated'\n        ],\n        'Operations & Administration': [\n          'Queue management supports airline operational workflows',\n          'Reporting provides real-time business intelligence',\n          'IRROPS support enables disruption management',\n          'Audit trails meet regulatory requirements'\n        ]\n      }\n    };\n    \n    return domainCriteria[domain]?.[feature] || [\n      `${feature} functionality is fully implemented and tested`,\n      `All ${domain}-specific requirements are met`,\n      'Performance meets industry standards',\n      'Security and compliance requirements are satisfied'\n    ];\n  };\n\n  // Default EPICs for specific domains when no requirements are extracted\n  const getDefaultEpicsForDomain = (domain) => {\n    const defaults = {\n      airline: [\n        {\n          id: 'EPIC-01',\n          title: 'Flight Search & Shopping',\n          description: 'Comprehensive flight search and shopping experience with multi-source integration',\n          businessValue: 'Enables passengers to find and compare flights, increasing conversion rates',\n          acceptanceCriteria: [\n            'Multi-city, round-trip, and one-way search capabilities',\n            'Real-time fare and availability from GDS/NDC sources',\n            'Advanced filtering and sorting options',\n            'Branded fares and ancillary product display'\n          ],\n          functionalRequirements: ['Flight search functionality', 'Fare comparison and display', 'Filter and sort capabilities'],\n          priority: 'High'\n        }\n      ]\n    };\n    \n    return defaults[domain] || [\n      {\n        id: 'EPIC-01',\n        title: 'Core System Requirements',\n        description: 'Basic system functionality requirements',\n        businessValue: 'Provides core system capabilities',\n        acceptanceCriteria: ['System functionality implemented', 'Basic requirements met'],\n        functionalRequirements: ['Core system functionality'],\n        priority: 'Medium'\n      }\n    ];\n  };\n\n  const convertEpicsToUserStories = (epics, domain) => {\n    const userStories = [];\n    \n    epics.forEach((epic, epicIndex) => {\n      // Generate user stories based on actual requirements within each EPIC\n      const stories = generateUserStoriesFromRequirements(epic, domain, epicIndex);\n      userStories.push(...stories);\n    });\n    \n    return userStories;\n  };\n\n  // Generate user stories based on actual EPIC requirements\n  const generateUserStoriesFromRequirements = (epic, domain, epicIndex) => {\n    const stories = [];\n    const requirements = epic.functionalRequirements;\n    \n    // Group related requirements into logical user stories\n    const storyGroups = groupRequirementsIntoStories(requirements, epic.title, domain);\n    \n    storyGroups.forEach((storyGroup, storyIndex) => {\n      const storyId = `US-${String(epicIndex + 1).padStart(2, '0')}-${String(storyIndex + 1).padStart(2, '0')}`;\n      const persona = getAppropriatePersona(storyGroup.requirements, domain);\n      const storyTitle = generateStoryTitle(storyGroup, epic.title);\n      const storyWant = generateStoryWant(storyGroup.requirements);\n      const storySoThat = generateStorySoThat(storyGroup.requirements, domain);\n      \n      stories.push({\n        id: storyId,\n        title: storyTitle,\n        asA: persona,\n        iWant: storyWant,\n        soThat: storySoThat,\n        acceptanceCriteria: generateStoryAcceptanceCriteria(storyGroup.requirements),\n        validationCriteria: getStoryValidationCriteria(domain, epic.title, storyGroup.action, persona),\n        priority: epic.priority,\n        storyPoints: calculateStoryPoints(storyGroup.requirements),\n        epicId: epic.id\n      });\n    });\n    \n    return stories;\n  };\n\n  // Group requirements into logical user stories\n  const groupRequirementsIntoStories = (requirements, epicTitle, domain) => {\n    const groups = [];\n    \n    // For financial domain, create specific story groups\n    if (domain === 'financial') {\n      if (epicTitle.includes('Onboarding') || epicTitle.includes('Intake')) {\n        requirements.forEach(req => {\n          const reqLower = req.toLowerCase();\n          if (reqLower.includes('digital intake') || reqLower.includes('form')) {\n            groups.push({\n              action: 'Complete Digital Intake',\n              requirements: [req],\n              focus: 'intake'\n            });\n          } else if (reqLower.includes('eligibility') || reqLower.includes('accreditation')) {\n            groups.push({\n              action: 'Verify Eligibility',\n              requirements: [req],\n              focus: 'verification'\n            });\n          } else if (reqLower.includes('document upload')) {\n            groups.push({\n              action: 'Upload Documents',\n              requirements: [req],\n              focus: 'documentation'\n            });\n          }\n        });\n      } else if (epicTitle.includes('Compliance')) {\n        requirements.forEach(req => {\n          const reqLower = req.toLowerCase();\n          if (reqLower.includes('kyc') || reqLower.includes('aml')) {\n            groups.push({\n              action: 'Complete KYC/AML Screening',\n              requirements: [req],\n              focus: 'compliance'\n            });\n          } else if (reqLower.includes('screening') || reqLower.includes('risk scoring')) {\n            groups.push({\n              action: 'Perform Risk Assessment',\n              requirements: [req],\n              focus: 'risk'\n            });\n          }\n        });\n      }\n    }\n    \n    // If no specific groups created, create generic ones\n    if (groups.length === 0) {\n      const mid = Math.ceil(requirements.length / 2);\n      if (requirements.length > 1) {\n        groups.push({\n          action: 'Manage Primary Functions',\n          requirements: requirements.slice(0, mid),\n          focus: 'primary'\n        });\n        groups.push({\n          action: 'Handle Secondary Operations',\n          requirements: requirements.slice(mid),\n          focus: 'secondary'\n        });\n      } else {\n        groups.push({\n          action: 'Execute Core Functionality',\n          requirements: requirements,\n          focus: 'core'\n        });\n      }\n    }\n    \n    return groups;\n  };\n\n  // Get appropriate persona based on requirements\n  const getAppropriatePersona = (requirements, domain) => {\n    const reqText = requirements.join(' ').toLowerCase();\n    \n    if (domain === 'telecom') {\n      if (reqText.includes('catalog') || reqText.includes('offer') || reqText.includes('order') || reqText.includes('eligibility')) {\n        return 'Customer';\n      }\n      if (reqText.includes('kyc') || reqText.includes('activation') || reqText.includes('provisioning') || reqText.includes('sim')) {\n        return 'Customer Service Representative';\n      }\n      if (reqText.includes('billing') || reqText.includes('charging') || reqText.includes('payment') || reqText.includes('collection')) {\n        return 'Billing Specialist';\n      }\n      if (reqText.includes('care') || reqText.includes('ticket') || reqText.includes('diagnostic') || reqText.includes('trouble')) {\n        return 'Technical Support Agent';\n      }\n      if (reqText.includes('partner') || reqText.includes('retailer') || reqText.includes('commission') || reqText.includes('sales')) {\n        return 'Channel Partner';\n      }\n      if (reqText.includes('analytics') || reqText.includes('compliance') || reqText.includes('audit') || reqText.includes('regulatory')) {\n        return 'Business Analyst';\n      }\n    }\n    \n    if (domain === 'financial') {\n      if (reqText.includes('investor') || reqText.includes('individual') || reqText.includes('intake')) {\n        return 'Investor';\n      }\n      if (reqText.includes('reviewer') || reqText.includes('approval') || reqText.includes('compliance')) {\n        return 'Compliance Officer';\n      }\n      if (reqText.includes('admin') || reqText.includes('manage') || reqText.includes('workflow')) {\n        return 'Fund Administrator';\n      }\n    }\n    \n    // Default personas by domain\n    const defaultPersonas = {\n      telecom: ['Customer', 'Customer Service Representative', 'Technical Support Agent'],\n      airline: ['Passenger', 'Travel Agent', 'Airline Operations Staff'],\n      financial: ['Investor', 'Fund Manager', 'Compliance Officer'],\n      healthcare: ['Patient', 'Healthcare Provider', 'Administrator'],\n      ecommerce: ['Customer', 'Store Manager', 'Sales Representative']\n    };\n    \n    return defaultPersonas[domain]?.[0] || 'User';\n  };\n\n  // Generate story title based on group\n  const generateStoryTitle = (storyGroup, epicTitle) => {\n    return `${epicTitle} - ${storyGroup.action}`;\n  };\n\n  // Generate \"I want\" statement from requirements\n  const generateStoryWant = (requirements) => {\n    const firstReq = requirements[0].toLowerCase();\n    \n    // Telecom-specific wants\n    if (firstReq.includes('catalog') || firstReq.includes('offer')) {\n      return 'browse product catalog and view available offers';\n    }\n    if (firstReq.includes('eligibility') || firstReq.includes('credit check')) {\n      return 'check customer eligibility and perform credit verification';\n    }\n    if (firstReq.includes('kyc') || firstReq.includes('activation')) {\n      return 'complete KYC verification and activate services';\n    }\n    if (firstReq.includes('sim') || firstReq.includes('esim') || firstReq.includes('provisioning')) {\n      return 'provision and activate SIM/eSIM with seamless setup';\n    }\n    if (firstReq.includes('mnp') || firstReq.includes('portability')) {\n      return 'process mobile number portability requests efficiently';\n    }\n    if (firstReq.includes('charging') || firstReq.includes('billing') || firstReq.includes('rating')) {\n      return 'manage real-time charging and accurate billing processes';\n    }\n    if (firstReq.includes('care') || firstReq.includes('ticket') || firstReq.includes('diagnostic')) {\n      return 'handle customer care requests and resolve technical issues';\n    }\n    if (firstReq.includes('payment') || firstReq.includes('collection')) {\n      return 'process payments and manage collections efficiently';\n    }\n    if (firstReq.includes('partner') || firstReq.includes('retailer')) {\n      return 'manage partner relationships and channel operations';\n    }\n    if (firstReq.includes('analytics') || firstReq.includes('reporting')) {\n      return 'generate analytics and compliance reports';\n    }\n    \n    // Financial-specific wants\n    if (firstReq.includes('digital intake') || firstReq.includes('form')) {\n      return 'complete digital intake forms with guided assistance';\n    }\n    if (firstReq.includes('document upload')) {\n      return 'upload required documents with real-time validation';\n    }\n    if (firstReq.includes('kyc') || firstReq.includes('screening')) {\n      return 'complete KYC/AML screening and compliance checks';\n    }\n    if (firstReq.includes('payment') || firstReq.includes('funding')) {\n      return 'process payments and funding transactions securely';\n    }\n    if (firstReq.includes('sign') || firstReq.includes('stamp')) {\n      return 'electronically sign documents and manage versions';\n    }\n    \n    // Generic fallback\n    return `implement ${firstReq.split('.')[0].replace(/^[‚Ä¢\\-\\*]\\s*/, '')}`;\n  };\n\n  // Generate \"so that\" statement based on domain and requirements\n  const generateStorySoThat = (requirements, domain) => {\n    const reqText = requirements.join(' ').toLowerCase();\n    \n    if (domain === 'telecom') {\n      if (reqText.includes('catalog') || reqText.includes('offer') || reqText.includes('order')) {\n        return 'I can easily discover and subscribe to relevant services';\n      }\n      if (reqText.includes('kyc') || reqText.includes('activation') || reqText.includes('provisioning')) {\n        return 'I can quickly onboard and start using telecom services';\n      }\n      if (reqText.includes('billing') || reqText.includes('charging') || reqText.includes('rating')) {\n        return 'I can ensure accurate and transparent billing processes';\n      }\n      if (reqText.includes('care') || reqText.includes('ticket') || reqText.includes('support')) {\n        return 'I can receive timely and effective customer support';\n      }\n      if (reqText.includes('payment') || reqText.includes('collection')) {\n        return 'I can make payments conveniently and maintain service continuity';\n      }\n      if (reqText.includes('partner') || reqText.includes('channel') || reqText.includes('retailer')) {\n        return 'I can effectively manage and grow channel partnerships';\n      }\n      if (reqText.includes('analytics') || reqText.includes('compliance') || reqText.includes('regulatory')) {\n        return 'I can make data-driven decisions and ensure regulatory compliance';\n      }\n    }\n    \n    if (domain === 'financial') {\n      if (reqText.includes('investor') || reqText.includes('onboard')) {\n        return 'I can efficiently onboard and start investing';\n      }\n      if (reqText.includes('compliance') || reqText.includes('kyc')) {\n        return 'I can ensure regulatory compliance and risk management';\n      }\n      if (reqText.includes('document') || reqText.includes('sign')) {\n        return 'I can complete legal requirements securely';\n      }\n      if (reqText.includes('payment') || reqText.includes('fund')) {\n        return 'I can process investments and manage funds';\n      }\n    }\n    \n    return 'I can accomplish my business objectives efficiently';\n  };\n\n  // Generate acceptance criteria from requirements\n  const generateStoryAcceptanceCriteria = (requirements) => {\n    const criteria = [];\n    \n    requirements.forEach(req => {\n      const reqLower = req.toLowerCase();\n      if (reqLower.includes('form') || reqLower.includes('intake')) {\n        criteria.push('Digital forms are completed with all required fields');\n      }\n      if (reqLower.includes('validation') || reqLower.includes('real time')) {\n        criteria.push('Real-time validation provides immediate feedback');\n      }\n      if (reqLower.includes('document') || reqLower.includes('upload')) {\n        criteria.push('Documents are uploaded and verified successfully');\n      }\n      if (reqLower.includes('screening') || reqLower.includes('check')) {\n        criteria.push('All compliance checks are completed successfully');\n      }\n      if (reqLower.includes('workflow') || reqLower.includes('approval')) {\n        criteria.push('Approval workflows are followed correctly');\n      }\n    });\n    \n    // Add generic criteria if none specific found\n    if (criteria.length === 0) {\n      criteria.push('User can successfully complete the required functionality');\n      criteria.push('System validates all inputs and provides feedback');\n    }\n    \n    criteria.push('Performance meets acceptable standards');\n    return criteria.slice(0, 4); // Limit to 4 criteria\n  };\n\n  // Calculate story points based on complexity\n  const calculateStoryPoints = (requirements) => {\n    const complexity = requirements.join(' ').toLowerCase();\n    \n    if (complexity.includes('workflow') || complexity.includes('integration') || complexity.includes('screening')) {\n      return 8; // Complex\n    }\n    if (complexity.includes('validation') || complexity.includes('approval') || complexity.includes('document')) {\n      return 5; // Medium\n    }\n    return 3; // Simple\n  };\n\n  // Helper functions for story generation\n  const groupRequirementsByFeature = (requirements) => {\n    const groups = {};\n    \n    requirements.forEach(req => {\n      let feature = 'Core System';\n      \n      if (req.text.toLowerCase().includes('user') || req.text.toLowerCase().includes('auth')) {\n        feature = 'User Management';\n      } else if (req.text.toLowerCase().includes('data') || req.text.toLowerCase().includes('process')) {\n        feature = 'Data Processing';\n      } else if (req.text.toLowerCase().includes('report') || req.text.toLowerCase().includes('analytic')) {\n        feature = 'Reporting';\n      } else if (req.section && req.section !== '') {\n        feature = req.section;\n      }\n      \n      if (!groups[feature]) groups[feature] = [];\n      groups[feature].push(req);\n    });\n    \n    return groups;\n  };\n\n  const determinePriority = (text) => {\n    if (text.toLowerCase().includes('must') || text.toLowerCase().includes('critical')) return 'High';\n    if (text.toLowerCase().includes('should') || text.toLowerCase().includes('important')) return 'Medium';\n    return 'Low';\n  };\n\n  // Generate domain-specific validation criteria for user stories\n  const getStoryValidationCriteria = (domain, epicTitle, action, persona) => {\n    const baseValidations = [\n      'Input validation ensures data integrity and prevents malformed data entry',\n      'Error handling provides clear, actionable feedback to users',\n      'Security validation prevents unauthorized access and data breaches',\n      'Performance validation ensures response times meet user expectations'\n    ];\n\n    const domainSpecificValidations = {\n      telecom: [\n        'Telecom regulatory compliance (TRAI/DoT) must be enforced for all operations',\n        'Number portability (MNP) processing must complete within regulatory timeframes',\n        'Real-time charging accuracy must be validated to prevent revenue leakage',\n        'KYC validation must comply with telecom industry standards and DoT guidelines',\n        'SIM/eSIM provisioning must follow secure activation protocols',\n        'Billing accuracy must be verified with mediation and reconciliation processes',\n        'Network integration APIs (HLR/HSS/OCS) must handle failover scenarios',\n        'Tariff calculations must support complex rating rules and promotional offers',\n        'Customer care SLA requirements must be monitored and enforced',\n        'Partner commission calculations must be accurate and auditable',\n        'Usage data collection must comply with privacy and data retention policies'\n      ],\n      airline: [\n        'Flight data must comply with IATA standards and GDS protocols',\n        'PNR creation and management must follow airline industry standards',\n        'Payment processing must be PCI DSS compliant with 3DS authentication',\n        'Ticket issuance must comply with IATA ticketing standards (ET/EMD)',\n        'Fare calculations must include all taxes, fees, and carrier surcharges',\n        'Schedule change handling must support IRROPS and disruption management',\n        'Seat map integration must reflect real-time airline inventory',\n        'Baggage policy validation must enforce airline-specific rules',\n        'Ancillary service pricing must integrate with airline merchandising systems'\n      ],\n      financial: [\n        'Financial calculations must be accurate to 4 decimal places',\n        'Regulatory compliance (SEC, FINRA) requirements must be met',\n        'Audit trails must be maintained for all financial transactions',\n        'Risk assessment algorithms must be validated against historical data',\n        'Real-time market data integration must have <2 second latency'\n      ],\n      marketing: [\n        'Marketing campaign data must comply with GDPR and privacy regulations',\n        'A/B testing results must be statistically significant (95% confidence)',\n        'Customer segmentation algorithms must be validated for accuracy',\n        'Email deliverability rates must maintain >95% success rate',\n        'Analytics tracking must comply with cookie consent requirements'\n      ],\n      healthcare: [\n        'HIPAA compliance must be validated for all patient data handling',\n        'Medical data accuracy must be verified against clinical standards',\n        'Patient consent validation must be documented and traceable',\n        'Clinical decision support must be evidence-based and validated',\n        'Emergency access protocols must be tested and functional'\n      ],\n      ecommerce: [\n        'Payment processing must comply with PCI DSS standards',\n        'Inventory synchronization must be real-time across all channels',\n        'Price calculations must include all applicable taxes and fees',\n        'Shopping cart persistence must maintain data for 30 days',\n        'Product recommendations must be validated for relevance and accuracy'\n      ]\n    };\n\n    const actionSpecificValidations = {\n      'Create and Manage': [\n        'Data creation validation ensures all required fields are completed',\n        'Duplicate detection prevents creation of redundant records',\n        'Workflow approval processes must be tested and functional',\n        'Data modification logging must capture who, what, when details'\n      ],\n      'View and Search': [\n        'Search functionality must return relevant results within 2 seconds',\n        'Filtering options must accurately narrow down result sets',\n        'Pagination must handle large datasets efficiently',\n        'Export functionality must maintain data formatting and integrity'\n      ],\n      'Update and Maintain': [\n        'Version control must track all changes with rollback capability',\n        'Concurrent editing must prevent data conflicts and loss',\n        'Backup and recovery procedures must be tested regularly',\n        'Change notifications must be sent to relevant stakeholders'\n      ]\n    };\n\n    const personaSpecificValidations = {\n      'Customer': [\n        'User interface must be accessible and comply with WCAG 2.1 guidelines',\n        'Mobile responsiveness must be tested across major device types',\n        'Self-service capabilities must be intuitive and comprehensive'\n      ],\n      'Customer Service Representative': [\n        'Agent tools must provide 360-degree customer view and interaction history',\n        'Escalation workflows must be clearly defined and automated',\n        'Knowledge base integration must provide contextual assistance'\n      ],\n      'Technical Support Agent': [\n        'Diagnostic tools must provide real-time network and service status',\n        'Trouble ticketing must integrate with network management systems',\n        'Resolution tracking must measure first-call resolution rates'\n      ],\n      'Billing Specialist': [\n        'Billing accuracy validation must prevent revenue leakage',\n        'Dispute resolution workflows must be streamlined and auditable',\n        'Payment processing must support multiple methods and currencies'\n      ],\n      'Channel Partner': [\n        'Partner portal must provide real-time commission and sales tracking',\n        'Inventory management must reflect accurate stock levels',\n        'Training materials must be current and accessible'\n      ],\n      'Business Analyst': [\n        'Analytics dashboards must provide drill-down capabilities',\n        'Report generation must support scheduled and on-demand execution',\n        'Data quality validation must ensure accuracy of insights'\n      ],\n      'Passenger': [\n        'User interface must be intuitive for non-technical airline passengers',\n        'Mobile responsiveness must support booking on all device types',\n        'Accessibility must comply with disability access requirements (ADA)'\n      ],\n      'Travel Agent': [\n        'Agent tools must support rapid multi-passenger bookings',\n        'GDS integration must provide real-time fare and inventory access',\n        'Commission tracking and reporting must be accurate and timely'\n      ],\n      'Airline Operations Staff': [\n        'Operational tools must integrate with airline DCS and inventory systems',\n        'IRROPS management must provide real-time disruption handling',\n        'Queue management must support airline operational workflows'\n      ],\n      'Financial Analyst': [\n        'Financial models must be validated against industry benchmarks',\n        'Risk calculations must include stress testing scenarios'\n      ],\n      'Portfolio Manager': [\n        'Portfolio rebalancing must consider transaction costs and tax implications',\n        'Performance attribution must be calculated using industry standards'\n      ],\n      'Marketing Manager': [\n        'Campaign ROI calculations must include all direct and indirect costs',\n        'Brand compliance guidelines must be enforced across all content'\n      ],\n      'Healthcare Provider': [\n        'Clinical protocols must be validated against current medical guidelines',\n        'Patient safety alerts must be immediate and actionable'\n      ]\n    };\n\n    // ü§ñ AI-Enhanced Contextual Validation Generation\n    // Combine validations based on context with intelligent selection\n    let validations = [...baseValidations];\n    \n    // Add domain-specific validations (select most relevant based on epic context)\n    if (domainSpecificValidations[domain]) {\n      let domainValidations = domainSpecificValidations[domain];\n      \n      // AI-style contextual filtering based on epic title and action\n      if (domain === 'telecom') {\n        if (epicTitle.toLowerCase().includes('billing') || epicTitle.toLowerCase().includes('charging')) {\n          domainValidations = domainValidations.filter(v => \n            v.includes('billing') || v.includes('charging') || v.includes('revenue') || v.includes('mediation')\n          );\n        } else if (epicTitle.toLowerCase().includes('onboarding') || epicTitle.toLowerCase().includes('activation')) {\n          domainValidations = domainValidations.filter(v => \n            v.includes('KYC') || v.includes('activation') || v.includes('provisioning') || v.includes('SIM')\n          );\n        } else if (epicTitle.toLowerCase().includes('care') || epicTitle.toLowerCase().includes('support')) {\n          domainValidations = domainValidations.filter(v => \n            v.includes('Customer care') || v.includes('SLA') || v.includes('resolution')\n          );\n        } else if (epicTitle.toLowerCase().includes('compliance') || epicTitle.toLowerCase().includes('analytics')) {\n          domainValidations = domainValidations.filter(v => \n            v.includes('regulatory') || v.includes('TRAI') || v.includes('privacy') || v.includes('audit')\n          );\n        }\n      }\n      \n      validations = validations.concat(domainValidations.slice(0, 3));\n    }\n    \n    // Add action-specific validations\n    if (actionSpecificValidations[action]) {\n      validations = validations.concat(actionSpecificValidations[action].slice(0, 2));\n    }\n    \n    // Add persona-specific validations\n    if (personaSpecificValidations[persona]) {\n      validations = validations.concat(personaSpecificValidations[persona]);\n    }\n    \n    // üéØ AI-Enhanced Validation Prioritization\n    // Remove duplicates and prioritize most relevant validations\n    const uniqueValidations = [...new Set(validations)];\n    \n    // Return 5-7 most relevant validations with intelligent selection\n    return uniqueValidations.slice(0, Math.min(7, uniqueValidations.length));\n  };\n\n  // Format requirements as EPICs for BRD\n  const formatRequirementsAsEpics = (requirements, project) => {\n    if (!requirements || requirements.trim() === '') {\n      return `<p><em>No specific requirements provided. Please add business requirements to see EPIC formatting.</em></p>`;\n    }\n\n    // Split requirements into lines and process each\n    const lines = requirements.split('\\n').map(line => line.trim()).filter(line => line);\n    const epics = [];\n    \n    // Group related requirements into EPICs\n    let currentEpic = [];\n    let epicCount = 1;\n    \n    lines.forEach((line, index) => {\n      // Start new EPIC every 2-3 requirements or when we detect a major section\n      if (currentEpic.length >= 3 || \n          line.toLowerCase().includes('system') && currentEpic.length > 0 ||\n          line.toLowerCase().includes('user') && currentEpic.length > 0) {\n        \n        if (currentEpic.length > 0) {\n          epics.push({\n            id: `EPIC-${String(epicCount).padStart(2, '0')}`,\n            title: generateEpicTitle(currentEpic[0]),\n            requirements: [...currentEpic]\n          });\n          epicCount++;\n          currentEpic = [];\n        }\n      }\n      \n      currentEpic.push(line);\n    });\n    \n    // Add the last epic if there are remaining requirements\n    if (currentEpic.length > 0) {\n      epics.push({\n        id: `EPIC-${String(epicCount).padStart(2, '0')}`,\n        title: generateEpicTitle(currentEpic[0]),\n        requirements: [...currentEpic]\n      });\n    }\n    \n    // If no EPICs were created, create a default one\n    if (epics.length === 0) {\n      epics.push({\n        id: 'EPIC-01',\n        title: 'Core System Requirements',\n        requirements: lines\n      });\n    }\n    \n    // Generate HTML for EPICs\n    return epics.map(epic => `\n      <div style=\"border:1px solid #d1d5db;margin:12px 0;padding:15px;border-radius:6px;background:#f8fafc;\">\n        <h3 style=\"color:#1f2937;margin-top:0;display:flex;align-items:center;\">\n          <span style=\"background:#3b82f6;color:white;padding:4px 8px;border-radius:4px;font-size:12px;margin-right:10px;\">${epic.id}</span>\n          ${epic.title}\n        </h3>\n        <div style=\"margin-top:10px;\">\n          <strong>Requirements:</strong>\n          <ul style=\"margin-top:6px;\">\n            ${epic.requirements.map(req => `<li style=\"margin-bottom:4px;\">${req}</li>`).join('')}\n          </ul>\n        </div>\n        <div style=\"margin-top:10px;padding-top:8px;border-top:1px solid #e5e7eb;font-size:13px;color:#6b7280;\">\n          <strong>EPIC Status:</strong> Ready for FRD conversion | <strong>Priority:</strong> ${getEpicPriority(epic.requirements)}\n        </div>\n      </div>\n    `).join('');\n  };\n\n  // Helper to generate EPIC titles\n  const generateEpicTitle = (firstRequirement) => {\n    const req = firstRequirement.toLowerCase();\n    \n    if (req.includes('user') || req.includes('auth') || req.includes('login')) {\n      return 'User Management & Authentication';\n    }\n    if (req.includes('data') || req.includes('database') || req.includes('storage')) {\n      return 'Data Management & Storage';\n    }\n    if (req.includes('report') || req.includes('analytic') || req.includes('dashboard')) {\n      return 'Reporting & Analytics';\n    }\n    if (req.includes('payment') || req.includes('transaction') || req.includes('billing')) {\n      return 'Payment & Transaction Processing';\n    }\n    if (req.includes('security') || req.includes('compliance') || req.includes('audit')) {\n      return 'Security & Compliance';\n    }\n    if (req.includes('integration') || req.includes('api') || req.includes('external')) {\n      return 'System Integration';\n    }\n    if (req.includes('performance') || req.includes('scalability') || req.includes('optimization')) {\n      return 'Performance & Scalability';\n    }\n    \n    return 'Core Business Requirements';\n  };\n\n  // Helper to determine EPIC priority\n  const getEpicPriority = (requirements) => {\n    const text = requirements.join(' ').toLowerCase();\n    \n    if (text.includes('critical') || text.includes('must') || text.includes('essential')) {\n      return 'High';\n    }\n    if (text.includes('should') || text.includes('important') || text.includes('required')) {\n      return 'Medium';\n    }\n    return 'Low';\n  };\n\n  const saveDocumentToProject = (project, docType, htmlContent, approved = false) => {\n    setProjects((prev) => {\n      const newPrev = { ...prev };\n      const p = newPrev[project] || { name: project, documents: [] };\n      const existingCount = p.documents.filter((d) => d.type === docType).length;\n      const version = existingCount + 1;\n      const doc = {\n        id: `${docType.replace(/\\s/g, \"_\")}_${Date.now()}`,\n        type: docType,\n        version,\n        html: htmlContent,\n        approved,\n        createdAt: new Date().toISOString(),\n      };\n      p.documents = [...p.documents, doc];\n      newPrev[project] = p;\n      return newPrev;\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (user === \"kmadhukumar25@gmail.com\" && pass === \"Madhu143\") {\n      setMsg(\"Login successful.\");\n      setIsLoggedIn(true);\n    } else {\n      setMsg(\"Invalid credentials.\");\n    }\n  };\n\n  const handleAddProject = () => {\n    setProjectName(\"\");\n    setSavedProjectName(\"\");\n    setDocumentGenerator(\"\");\n    setSelectedModule(MODULES[0]);\n    setIsCreatingProject(true);\n    setSelectedSearchProject(\"\");\n    setSearchTerm(\"\");\n  };\n\n  const handleSaveProject = () => {\n    if (!projectName.trim()) {\n      setMsg(\"Please enter a project name.\");\n      setTimeout(() => setMsg(\"\"), 2500);\n      return;\n    }\n    const name = projectName.trim();\n    setSavedProjectName(name);\n    setProjects((prev) => {\n      if (prev[name]) return prev;\n      return { ...prev, [name]: { name, documents: [] } };\n    });\n    setMsg(\"Project saved.\");\n    setTimeout(() => setMsg(\"\"), 1500);\n  };\n\n  const handleCancelCreate = () => {\n    setIsCreatingProject(false);\n  };\n\n  const handleCompleteProject = () => {\n    setCompletedProjects((c) => Math.min(c + 1, totalProjects));\n  };\n\n  const handleLogout = () => {\n    setIsLoggedIn(false);\n    setIsCreatingProject(false);\n    setUser(\"\");\n    setPass(\"\");\n    setMsg(\"\");\n    setProjectName(\"\");\n    setSavedProjectName(\"\");\n    setDocumentGenerator(\"\");\n    setSelectedSearchProject(\"\");\n    setSearchTerm(\"\");\n  };\n\n  // STANDALONE MODE: Use enhanced local template with AI domain detection only\n  const handleBrdSubmit = async () => {\n    if (!savedProjectName) {\n      setMsg(\"Please save project name first.\");\n      setTimeout(() => setMsg(\"\"), 2000);\n      return;\n    }\n    const project = savedProjectName;\n    const version =\n      (projects[project]?.documents?.filter((d) => d.type === \"BRD\")?.length || 0) + 1;\n\n    setMsg(\"Generating BRD with AI domain detection...\");\n    \n    // FORCE STANDALONE MODE - Always use enhanced local template\n    console.log(\"üöÄ STANDALONE MODE: Using enhanced local template with AI domain detection\");\n    const html = generateBrdHtml({ project, inputs: brdInputs, version });\n    \n    saveDocumentToProject(project, \"BRD\", html, false);\n    setBrdPreviewHtml(html);\n    setBrdPreviewVersion(version);\n    setBrdPreviewVisible(true);\n    setMsg(`Enhanced BRD Version-${version} generated with AI domain detection.`);\n    setTimeout(() => setMsg(\"\"), 3000);\n  };\n\n  // New FRD generation function using AI agents\n  // STANDALONE FRD GENERATION - No backend dependency\n  const handleFrdSubmit = async () => {\n    if (!savedProjectName) {\n      setMsg(\"Please save project name first.\");\n      setTimeout(() => setMsg(\"\"), 2000);\n      return;\n    }\n    \n    if (!frdInputs.brdText.trim()) {\n      setMsg(\"Please provide BRD content for FRD generation.\");\n      setTimeout(() => setMsg(\"\"), 2000);\n      return;\n    }\n\n    const project = savedProjectName;\n    const version =\n      (projects[project]?.documents?.filter((d) => d.type === \"FRD\")?.length || 0) + 1;\n\n    setFrdLoading(true);\n    setMsg(\"ü§ñ Generating FRD with AI domain intelligence...\");\n    \n    // STANDALONE MODE - Generate FRD locally\n    console.log(\"üöÄ FRD STANDALONE MODE: Converting BRD to FRD with domain intelligence\");\n    \n    const html = generateFrdFromBrd(frdInputs.brdText.trim(), project, version);\n    \n    saveDocumentToProject(project, \"FRD\", html, false);\n    setFrdPreviewHtml(html);\n    setFrdPreviewVersion(version);\n    setFrdPreviewVisible(true);\n    setMsg(`Enhanced FRD Version-${version} generated successfully!`);\n    setTimeout(() => setMsg(\"\"), 3000);\n    \n    setFrdLoading(false);\n  };\n\n  const handleBrdApprove = (project) => {\n    setProjects((prev) => {\n      const copy = { ...prev };\n      const p = copy[project];\n      if (!p) return prev;\n      const brds = p.documents.filter((d) => d.type === \"BRD\");\n      if (!brds.length) return prev;\n      const latest = brds.reduce((a, b) => (a.version > b.version ? a : b));\n      latest.approved = true;\n      return copy;\n    });\n    setMsg(\"BRD approved.\");\n    setTimeout(() => setMsg(\"\"), 1500);\n  };\n\n  const handleFrdApprove = (project) => {\n    setProjects((prev) => {\n      const copy = { ...prev };\n      const p = copy[project];\n      if (!p) return prev;\n      const frds = p.documents.filter((d) => d.type === \"FRD\");\n      if (!frds.length) return prev;\n      const latest = frds.reduce((a, b) => (a.version > b.version ? a : b));\n      latest.approved = true;\n      return copy;\n    });\n    setMsg(\"FRD approved.\");\n    setTimeout(() => setMsg(\"\"), 1500);\n  };\n\n  const handleBrdClear = () => {\n    setBrdInputs({\n      scope: \"\",\n      objectives: \"\",\n      budget: \"\",\n      briefRequirements: \"\",\n      assumptions: \"\",\n      constraints: \"\",\n      validations: \"\",\n    });\n    setMsg(\"BRD input cleared.\");\n    setTimeout(() => setMsg(\"\"), 1000);\n  };\n\n  const handleFrdClear = () => {\n    setFrdInputs({\n      brdText: \"\",\n    });\n    setFrdPreviewHtml(\"\");\n    setFrdPreviewVisible(false);\n    setMsg(\"FRD input cleared.\");\n    setTimeout(() => setMsg(\"\"), 1000);\n  };\n\n  const loadSampleHealthcareBRD = () => {\n    const sampleBRD = `Executive Summary\nHealth Care BRD: Ability to create and manage patient profiles, schedule appointments with notifications, store and update patient medical history securely, and generate invoices with insurance claim support.\n\nProject Scope\nIncluded ‚Äì Patient registration, appointment scheduling, electronic health records integration, billing module. Excluded ‚Äì Telemedicine services, AI diagnostic tools, integration with third-party pharmacies.\n\nBusiness Objectives\nReduce manual customer support inquiries related to balances and statements.\nImprove payment straight-through-processing and reduce failed transactions.\n\nBudget Details\nEstimated project budget of $500K‚Äì$750K, covering development, testing, deployment, and first-year maintenance.\n\nBusiness Requirements\nThe system shall ability to create.\nThe system shall manage patient profiles.\nThe system shall schedule appointments with notifications.\nThe system shall store.\nThe system shall update patient medical history securely.\nThe system shall generate invoices with insurance claim support.\nThe system shall included ‚Äì Patient registration.\nThe system shall appointment scheduling.\nThe system shall electronic health records integration.\nThe system shall billing module. Excluded ‚Äì Telemedicine services.\nThe system shall aI diagnostic tools.\nThe system shall integration with third-party pharmacies.\nThe system shall improve patient management efficiency.\nThe system shall streamline appointment scheduling.\nThe system shall provide centralized health records.\nThe system shall enhance billing accuracy.\n\nAssumptions\nIntegration with existing hospital systems is feasible.\nStaff training will be provided.\nCompliance requirements are well-defined.\n\nValidations\nPatient data must be validated for completeness.\nAppointment conflicts must be prevented.\nBilling calculations must be accurate.\nSecurity protocols must be enforced.`;\n\n    setFormData({ \n      projectScope: \"Included ‚Äì Patient registration, appointment scheduling, electronic health records integration, billing module. Excluded ‚Äì Telemedicine services, AI diagnostic tools, integration with third-party pharmacies.\",\n      businessObjectives: \"Reduce manual customer support inquiries related to balances and statements. Improve payment straight-through-processing and reduce failed transactions.\",\n      budgetDetails: \"Estimated project budget of $500K‚Äì$750K, covering development, testing, deployment, and first-year maintenance.\",\n      briefRequirements: sampleBRD,\n      assumptions: \"Integration with existing hospital systems is feasible. Staff training will be provided. Compliance requirements are well-defined.\",\n      validations: \"Patient data must be validated for completeness. Appointment conflicts must be prevented. Billing calculations must be accurate. Security protocols must be enforced.\"\n    });\n    \n    // Also update FRD inputs for FRD Creation page\n    setFrdInputs({\n      brdText: sampleBRD\n    });\n    \n    setMsg(\"Sample Healthcare BRD loaded successfully!\");\n    setTimeout(() => setMsg(\"\"), 2000);\n  };\n\n  const loadSampleEcommerceBRD = () => {\n    const sampleBRD = `Project Scope (Included & Excluded): Included ‚Äî product catalog and search, cart and checkout, payments, shipping/rates, order management, returns/refunds, promotions/coupons, customer accounts, admin CMS, and analytics; Excluded ‚Äî marketplace multi‚Äëvendor onboarding, in‚Äëstore POS integration, warehouse robotics, and cross‚Äëborder tax automation at launch.\n\nBusiness Objectives: Increase online revenue and conversion rate, reduce cart abandonment, improve repeat purchase rate/CLV, shorten fulfillment lead time, and decrease payment failures and support tickets.\n\nBudget Details: Estimated ‚Çπ80‚Äì‚Çπ140 lakh for design/build, platform licenses, integrations (payment, shipping, tax), testing, deployment, observability, and first‚Äëyear run/support; phased MVP then growth epics.\n\nBrief Business Requirements (EPICs):\n\nEPIC-01 Catalog & Discovery: browse, filter, search, SEO, rich PDP content.\n\nEPIC-02 Cart & Checkout: guest/login checkout, address book, taxes, shipping options, order review.\n\nEPIC-03 Payments: cards/UPI/wallets/BNPL, 3DS, retries, refunds.\n\nEPIC-04 Orders & Fulfillment: order creation, split shipments, tracking, cancellations/returns.\n\nEPIC-05 Promotions & Pricing: coupons, discounts, gift cards, price rules.\n\nEPIC-06 Accounts & Loyalty: registration/SSO, profiles, wishlists, loyalty points.\n\nEPIC-07 Admin & Content: product/inventory/pricing management, CMS, role‚Äëbased access, approvals.\n\nEPIC-08 Analytics & Reporting: conversion funnel, sales/returns, campaign attribution.\n\nAssumptions: Product, price, and inventory are available via API or scheduled feeds; payment/shipping accounts are provisioned; tax/returns/privacy policies are approved; non‚Äëprod and prod environments with SSO/CDN exist; SLA for upstream systems meets storefront needs.\n\nValidations: Required customer/address fields; email/phone formats; postal code and tax/VAT rules by region; inventory reservation at checkout; payment authorization and risk checks; coupon eligibility/stacking rules; shipment method/address compatibility; hard limits on order value/quantity to prevent abuse.`;\n\n    setFormData({ \n      projectScope: \"Included ‚Äî product catalog and search, cart and checkout, payments, shipping/rates, order management, returns/refunds, promotions/coupons, customer accounts, admin CMS, and analytics; Excluded ‚Äî marketplace multi‚Äëvendor onboarding, in‚Äëstore POS integration, warehouse robotics, and cross‚Äëborder tax automation at launch.\",\n      businessObjectives: \"Increase online revenue and conversion rate, reduce cart abandonment, improve repeat purchase rate/CLV, shorten fulfillment lead time, and decrease payment failures and support tickets.\",\n      budgetDetails: \"Estimated ‚Çπ80‚Äì‚Çπ140 lakh for design/build, platform licenses, integrations (payment, shipping, tax), testing, deployment, observability, and first‚Äëyear run/support; phased MVP then growth epics.\",\n      briefRequirements: sampleBRD,\n      assumptions: \"Product, price, and inventory are available via API or scheduled feeds; payment/shipping accounts are provisioned; tax/returns/privacy policies are approved; non‚Äëprod and prod environments with SSO/CDN exist; SLA for upstream systems meets storefront needs.\",\n      validations: \"Required customer/address fields; email/phone formats; postal code and tax/VAT rules by region; inventory reservation at checkout; payment authorization and risk checks; coupon eligibility/stacking rules; shipment method/address compatibility; hard limits on order value/quantity to prevent abuse.\"\n    });\n    \n    // Also update FRD inputs for FRD Creation page\n    setFrdInputs({\n      brdText: sampleBRD\n    });\n    \n    setMsg(\"Sample E-commerce BRD with EPICs loaded successfully!\");\n    setTimeout(() => setMsg(\"\"), 2000);\n  };\n\n  const handleDownloadDoc = (project, doc) => {\n    const filename = `${project}_BRD_v${doc.version}.doc`;\n    downloadAsWord(doc.html, filename);\n  };\n\n  const handleSearch = () => {\n    if (!searchTerm.trim()) {\n      setMsg(\"Enter project name to search.\");\n      setTimeout(() => setMsg(\"\"), 1500);\n      return;\n    }\n    const found = Object.keys(projects).find(\n      (k) => k.toLowerCase() === searchTerm.trim().toLowerCase()\n    );\n    if (!found) {\n      setMsg(\"Project not found.\");\n      setTimeout(() => setMsg(\"\"), 1500);\n      return;\n    }\n    setSelectedSearchProject(found);\n\n    if (isCreatingProject) {\n      setSavedProjectName(found);\n      setProjectName(found);\n      setDocumentGenerator(\"\");\n      setMsg(`Loaded project \"${found}\" into workspace.`);\n      setTimeout(() => setMsg(\"\"), 1400);\n    }\n  };\n\n  const pageStyle = {\n    minHeight: \"100vh\",\n    background: \"#f4f6f8\",\n    padding: 28,\n    fontFamily: \"Inter, Roboto, Arial, sans-serif\",\n  };\n\n  const cardStyle = {\n    background: \"#ffffff\",\n    padding: 24,\n    borderRadius: 12,\n    boxShadow: \"0 8px 28px rgba(16,24,40,0.08)\",\n    color: \"#111827\",\n  };\n\n  const inputStyle = {\n    display: \"block\",\n    width: \"100%\",\n    padding: \"10px 12px\",\n    margin: \"8px 0 16px\",\n    borderRadius: 8,\n    border: \"1px solid #e6e9ef\",\n    fontSize: 14,\n    outline: \"none\",\n  };\n\n  const topButton = {\n    background: \"#0f172a\",\n    color: \"#fff\",\n    border: \"none\",\n    padding: \"8px 14px\",\n    borderRadius: 8,\n    cursor: \"pointer\",\n    fontWeight: 600,\n  };\n\n  if (!isLoggedIn) {\n    return (\n      <div style={{ minHeight: \"100vh\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", background: \"linear-gradient(180deg,#f5f7fa 0%,#eef2f6 100%)\", padding: 24 }}>\n        <div style={{ ...cardStyle, width: 420, padding: 32 }}>\n          <h1 style={{ margin: 0, fontSize: 20 }}>BA Assistant Tool</h1>\n          <p style={{ marginTop: 8, marginBottom: 20, color: \"#6b7280\", fontSize: 13 }}>Sign in to continue</p>\n\n          <form onSubmit={handleSubmit} aria-label=\"login form\">\n            <label style={{ fontSize: 13, color: \"#374151\", fontWeight: 600 }}>\n              Email\n              <input style={inputStyle} value={user} onChange={(e) => setUser(e.target.value)} placeholder=\"name@company.com\" type=\"email\" required />\n            </label>\n\n            <label style={{ fontSize: 13, color: \"#374151\", fontWeight: 600 }}>\n              Password\n              <input type=\"password\" style={inputStyle} value={pass} onChange={(e) => setPass(e.target.value)} placeholder=\"Enter your password\" required />\n            </label>\n\n            <button type=\"submit\" style={{ ...topButton, width: \"100%\" }}>Sign in</button>\n          </form>\n\n          {msg && <p style={{ marginTop: 16, color: msg.includes(\"successful\") ? \"#059669\" : \"#dc2626\" }}>{msg}</p>}\n        </div>\n      </div>\n    );\n  }\n\n  if (isCreatingProject) {\n    return (\n      <div style={{ minHeight: \"100vh\", background: \"#f4f6f8\", padding: 20, fontFamily: \"Inter, Roboto, Arial, sans-serif\" }}>\n        <div style={{ maxWidth: 1200, margin: \"0 auto\", display: \"flex\", gap: 24 }}>\n          <aside style={{ width: 280 }}>\n            <div style={{ background: \"#fff\", borderRadius: 12, padding: 18, boxShadow: \"0 6px 18px rgba(16,24,40,0.06)\" }}>\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 12 }}>\n                <div style={{ fontWeight: 700 }}>Modules</div>\n                <button onClick={() => setIsCreatingProject(false)} style={{ background: \"transparent\", border: \"none\", cursor: \"pointer\", color: \"#6b7280\" }}>Close</button>\n              </div>\n\n              <nav>\n                {MODULES.map((m) => (\n                  <div key={m} onClick={() => setSelectedModule(m)} style={{ padding: \"10px 12px\", borderRadius: 8, cursor: \"pointer\", marginBottom: 8, background: selectedModule === m ? \"#0f172a\" : \"transparent\", color: selectedModule === m ? \"#fff\" : \"#111827\", fontWeight: selectedModule === m ? 700 : 600 }}>\n                    {m}\n                  </div>\n                ))}\n              </nav>\n            </div>\n          </aside>\n\n          <main style={{ flex: 1 }}>\n            <div style={{ background: \"#fff\", borderRadius: 12, padding: 20, boxShadow: \"0 6px 18px rgba(16,24,40,0.06)\" }}>\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 12 }}>\n                <div>\n                  <button onClick={() => setIsCreatingProject(false)} aria-label=\"Back to dashboard\" style={{ background: \"transparent\", border: \"none\", cursor: \"pointer\", fontSize: 18 }}>‚Üê</button>\n                </div>\n\n                <div style={{ display: \"flex\", gap: 10, alignItems: \"center\" }}>\n                  <input value={projectName} onChange={(e) => setProjectName(e.target.value)} placeholder=\"Project Name\" style={{ ...inputStyle, width: 260, margin: 0 }} />\n                  <button onClick={handleSaveProject} style={{ ...topButton, padding: \"8px 12px\" }}>Save</button>\n\n                  <input value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} placeholder=\"Search Project\" style={{ ...inputStyle, width: 200, margin: 0 }} />\n                  <button onClick={handleSearch} style={{ ...topButton, padding: \"8px 12px\" }}>Search</button>\n\n                  <button onClick={handleLogout} style={{ background: \"transparent\", border: \"1px solid #e6e9ef\", padding: \"8px 12px\", borderRadius: 8, cursor: \"pointer\" }}>Logout</button>\n                </div>\n              </div>\n\n              <div>\n                <div style={{ fontSize: 13, color: \"#6b7280\", fontWeight: 600 }}>Project</div>\n                <div style={{ marginTop: 6, fontSize: 18, fontWeight: 700, color: \"#0f172a\" }}>{savedProjectName || \"No project saved yet\"}</div>\n              </div>\n\n              <section style={{ marginTop: 12, color: \"#374151\" }}>\n                <label style={{ display: \"block\", fontSize: 13, color: \"#374151\", marginBottom: 8 }}>Document Generator</label>\n                <select value={documentGenerator} onChange={(e) => setDocumentGenerator(e.target.value)} style={{ ...inputStyle, padding: \"10px 12px\", width: 360 }}>\n                  <option value=\"\">Select document</option>\n                  {DOC_OPTIONS.map((d) => <option key={d} value={d}>{d}</option>)}\n                </select>\n\n                {documentGenerator === \"FRD Creation\" && (\n                  <div style={{ marginTop: 18 }}>\n                    <div style={{ marginBottom: 16, padding: 16, background: \"#f8fafc\", border: \"1px solid #e2e8f0\", borderRadius: 8 }}>\n                      <h4 style={{ margin: \"0 0 8px 0\", color: \"#374151\" }}>ü§ñ AI-Powered FRD Generation</h4>\n                      <p style={{ margin: 0, color: \"#6b7280\", fontSize: 14 }}>\n                        Our AI agents analyze your Business Requirements Document (BRD) and automatically generate a comprehensive \n                        Functional Requirements Document (FRD) with domain-specific details, stakeholders, NFRs, and detailed functional requirements.\n                      </p>\n                    </div>\n\n                    <div style={{ marginBottom: 8, fontWeight: 700 }}>FRD Generation - Input BRD</div>\n                    <p style={{ color: \"#6b7280\", fontSize: 13, marginBottom: 12 }}>\n                      Paste your complete Business Requirements Document below. The AI agent will automatically detect the domain \n                      (Healthcare, Banking, E-commerce, etc.) and generate appropriate FRD content.\n                    </p>\n\n                    <div style={{ display: \"flex\", gap: 8, marginBottom: 12 }}>\n                      <button \n                        onClick={loadSampleHealthcareBRD} \n                        style={{ \n                          padding: \"8px 12px\", \n                          background: \"#10b981\", \n                          color: \"white\", \n                          border: \"none\", \n                          borderRadius: 6,\n                          cursor: \"pointer\",\n                          fontSize: 13\n                        }}\n                      >\n                        Load Healthcare Sample\n                      </button>\n                      <button \n                        onClick={loadSampleEcommerceBRD} \n                        style={{ \n                          padding: \"8px 12px\", \n                          background: \"#3b82f6\", \n                          color: \"white\", \n                          border: \"none\", \n                          borderRadius: 6,\n                          cursor: \"pointer\",\n                          fontSize: 13\n                        }}\n                      >\n                        Load E-commerce EPICs Sample\n                      </button>\n                      <button \n                        onClick={handleFrdClear} \n                        style={{ \n                          padding: \"8px 12px\", \n                          background: \"#6b7280\", \n                          color: \"white\", \n                          border: \"none\", \n                          borderRadius: 6,\n                          cursor: \"pointer\",\n                          fontSize: 13\n                        }}\n                      >\n                        Clear Input\n                      </button>\n                    </div>\n\n                    <label style={{ fontWeight: 600 }}>Business Requirements Document (BRD) Content</label>\n                    <textarea \n                      value={frdInputs.brdText} \n                      onChange={(e) => updateFrdInput(\"brdText\", e.target.value)} \n                      placeholder=\"Paste your complete BRD here including:\n‚Ä¢ Executive Summary\n‚Ä¢ Project Scope\n‚Ä¢ Business Objectives  \n‚Ä¢ Budget Details\n‚Ä¢ Business Requirements\n‚Ä¢ Assumptions\n‚Ä¢ Constraints\n‚Ä¢ Validations & Acceptance Criteria\n\nThe AI agent will analyze this content and generate a comprehensive FRD.\"\n                      style={{ \n                        ...inputStyle, \n                        minHeight: 280,\n                        fontFamily: \"monospace\",\n                        fontSize: 13\n                      }} \n                    />\n                    <div style={{ fontSize: 12, color: \"#6b7280\", marginTop: 4, marginBottom: 16 }}>\n                      Characters: {frdInputs.brdText.length} | AI works best with detailed, structured BRDs\n                    </div>\n\n                    <div style={{ display: \"flex\", gap: 10, marginTop: 12 }}>\n                      <button \n                        onClick={handleFrdSubmit} \n                        disabled={frdLoading}\n                        style={{ \n                          ...topButton, \n                          background: frdLoading ? \"#9ca3af\" : \"#3b82f6\",\n                          cursor: frdLoading ? \"not-allowed\" : \"pointer\"\n                        }}\n                      >\n                        {frdLoading ? \"ü§ñ AI Agent Processing...\" : \"üöÄ Generate FRD\"}\n                      </button>\n                      <button \n                        onClick={() => { \n                          if (savedProjectName) handleFrdApprove(savedProjectName); \n                          else setMsg(\"Save project first to approve.\"); \n                        }} \n                        style={{ \n                          background: \"#047857\", \n                          color: \"#fff\", \n                          border: \"none\", \n                          padding: \"8px 14px\", \n                          borderRadius: 8 \n                        }}\n                      >\n                        APPROVE\n                      </button>\n                      <button \n                        onClick={handleFrdClear} \n                        style={{ \n                          background: \"#ef4444\", \n                          color: \"#fff\", \n                          border: \"none\", \n                          padding: \"8px 14px\", \n                          borderRadius: 8 \n                        }}\n                      >\n                        CLEAR\n                      </button>\n                    </div>\n\n                    {frdPreviewVisible && (\n                      <div style={{ marginTop: 16, border: \"1px solid #e6e9ef\", borderRadius: 8, overflow: \"hidden\", background: \"#fff\" }}>\n                        <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", padding: \"8px 12px\", borderBottom: \"1px solid #eef2f6\", background: \"#f8fafc\" }}>\n                          <div style={{ fontWeight: 700 }}>ü§ñ AI-Generated FRD ‚Äî Version {frdPreviewVersion}</div>\n                          <div style={{ display: \"flex\", gap: 8 }}>\n                            <button \n                              onClick={() => downloadAsWord(frdPreviewHtml, `${savedProjectName}_FRD_v${frdPreviewVersion}.doc`)} \n                              style={{ \n                                padding: \"6px 10px\", \n                                borderRadius: 6, \n                                background: \"#fff\", \n                                border: \"1px solid #e6e9ef\", \n                                cursor: \"pointer\" \n                              }}\n                            >\n                              Download\n                            </button>\n                            <button \n                              onClick={() => { \n                                if (savedProjectName) handleFrdApprove(savedProjectName); \n                                else setMsg(\"Save project first to approve.\"); \n                              }} \n                              style={{ \n                                padding: \"6px 10px\", \n                                borderRadius: 6, \n                                background: \"#047857\", \n                                color: \"#fff\", \n                                border: \"none\", \n                                cursor: \"pointer\" \n                              }}\n                            >\n                              Approve\n                            </button>\n                            <button \n                              onClick={closeFrdPreview} \n                              style={{ \n                                padding: \"6px 10px\", \n                                borderRadius: 6, \n                                background: \"#ef4444\", \n                                color: \"#fff\", \n                                border: \"none\", \n                                cursor: \"pointer\" \n                              }}\n                            >\n                              Close Preview\n                            </button>\n                          </div>\n                        </div>\n                        <div style={{ padding: 16, maxHeight: 500, overflow: \"auto\" }}>\n                          <div dangerouslySetInnerHTML={{ __html: frdPreviewHtml }} />\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                {documentGenerator === \"BRD Creation\" && (\n                  <div style={{ marginTop: 18 }}>\n                    <div style={{ marginBottom: 8, fontWeight: 700 }}>BRD - Inputs</div>\n\n                    <label style={{ fontWeight: 600 }}>Project Scope Included / Excluded</label>\n                    <textarea value={brdInputs.scope} onChange={(e) => updateBrdInput(\"scope\", e.target.value)} style={{ ...inputStyle, minHeight: 80 }} />\n\n                    <label style={{ fontWeight: 600 }}>Business Objectives</label>\n                    <textarea value={brdInputs.objectives} onChange={(e) => updateBrdInput(\"objectives\", e.target.value)} style={{ ...inputStyle, minHeight: 80 }} />\n\n                    <label style={{ fontWeight: 600 }}>Budget Details</label>\n                    <textarea value={brdInputs.budget} onChange={(e) => updateBrdInput(\"budget\", e.target.value)} style={{ ...inputStyle }} />\n\n                    <label style={{ fontWeight: 600 }}>Brief Business Requirements</label>\n                    <textarea value={brdInputs.briefRequirements} onChange={(e) => updateBrdInput(\"briefRequirements\", e.target.value)} style={{ ...inputStyle, minHeight: 80 }} />\n\n                    <label style={{ fontWeight: 600 }}>Assumptions</label>\n                    <textarea value={brdInputs.assumptions} onChange={(e) => updateBrdInput(\"assumptions\", e.target.value)} style={{ ...inputStyle }} />\n\n                    <label style={{ fontWeight: 600 }}>Constraints</label>\n                    <textarea value={brdInputs.constraints} onChange={(e) => updateBrdInput(\"constraints\", e.target.value)} style={{ ...inputStyle }} />\n\n                    <label style={{ fontWeight: 600 }}>Validations / Acceptance Criteria</label>\n                    <textarea value={brdInputs.validations} onChange={(e) => updateBrdInput(\"validations\", e.target.value)} style={{ ...inputStyle, minHeight: 80 }} />\n\n                    <div style={{ display: \"flex\", gap: 10, marginTop: 12 }}>\n                      <button onClick={handleBrdSubmit} style={{ ...topButton }}>SUBMIT</button>\n                      <button onClick={() => { if (savedProjectName) handleBrdApprove(savedProjectName); else setMsg(\"Save project first to approve.\"); }} style={{ background: \"#047857\", color: \"#fff\", border: \"none\", padding: \"8px 14px\", borderRadius: 8 }}>APPROVE</button>\n                      <button onClick={handleBrdClear} style={{ background: \"#ef4444\", color: \"#fff\", border: \"none\", padding: \"8px 14px\", borderRadius: 8 }}>CLEAR</button>\n                    </div>\n\n                    {brdPreviewVisible && (\n                      <div style={{ marginTop: 16, border: \"1px solid #e6e9ef\", borderRadius: 8, overflow: \"hidden\", background: \"#fff\" }}>\n                        <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", padding: \"8px 12px\", borderBottom: \"1px solid #eef2f6\" }}>\n                          <div style={{ fontWeight: 700 }}>BRD Preview ‚Äî Version {brdPreviewVersion}</div>\n                          <div style={{ display: \"flex\", gap: 8 }}>\n                            <button onClick={() => downloadAsWord(brdPreviewHtml, `${savedProjectName}_BRD_v${brdPreviewVersion}.doc`)} style={{ padding: \"6px 10px\", borderRadius: 6, background: \"#fff\", border: \"1px solid #e6e9ef\", cursor: \"pointer\" }}>Download</button>\n                            <button onClick={() => { if (savedProjectName) handleBrdApprove(savedProjectName); else setMsg(\"Save project first to approve.\"); }} style={{ padding: \"6px 10px\", borderRadius: 6, background: \"#047857\", color: \"#fff\", border: \"none\", cursor: \"pointer\" }}>Approve</button>\n                            <button onClick={closeBrdPreview} style={{ padding: \"6px 10px\", borderRadius: 6, background: \"#ef4444\", color: \"#fff\", border: \"none\", cursor: \"pointer\" }}>Close Preview</button>\n                          </div>\n                        </div>\n                        <div style={{ padding: 16, maxHeight: 420, overflow: \"auto\" }}>\n                          <div dangerouslySetInnerHTML={{ __html: brdPreviewHtml }} />\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                {documentGenerator && documentGenerator !== \"BRD Creation\" && (\n                  <div style={{ marginTop: 18 }}>\n                    <p style={{ color: \"#6b7280\" }}>Selected: {documentGenerator}. Document editor will appear here.</p>\n                  </div>\n                )}\n              </section>\n            </div>\n          </main>\n        </div>\n\n        {msg && <div style={{ position: \"fixed\", bottom: 20, right: 20, background: \"#111827\", color: \"#fff\", padding: \"10px 14px\", borderRadius: 8 }}>{msg}</div>}\n      </div>\n    );\n  }\n\n  return (\n    <div style={pageStyle}>\n      <div style={{ maxWidth: 1200, margin: \"0 auto\" }}>\n        <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 18 }}>\n          <h2 style={{ margin: 0, color: \"#0f172a\" }}>BA Assistant Tool</h2>\n          <div style={{ display: \"flex\", gap: 10, alignItems: \"center\" }}>\n            <button style={topButton} onClick={handleAddProject}>+ New Project</button>\n            <button onClick={handleLogout} style={{ background: \"transparent\", border: \"1px solid #e6e9ef\", padding: \"8px 12px\", borderRadius: 8, cursor: \"pointer\" }}>Logout</button>\n          </div>\n        </div>\n\n        {selectedSearchProject ? (\n          <div style={cardStyle}>\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n              <div>\n                <div style={{ fontSize: 13, color: \"#6b7280\", fontWeight: 600 }}>Project</div>\n                <div style={{ marginTop: 6, fontSize: 18, fontWeight: 700, color: \"#0f172a\" }}>{selectedSearchProject}</div>\n              </div>\n              <div>\n                <button onClick={() => { setSelectedSearchProject(\"\"); setSearchTerm(\"\"); }} style={{ background: \"transparent\", border: \"1px solid #e6e9ef\", padding: \"8px 12px\", borderRadius: 8 }}>Back</button>\n              </div>\n            </div>\n\n            <div style={{ marginTop: 16 }}>\n              <div style={{ fontWeight: 700, marginBottom: 8 }}>Documents</div>\n              {projects[selectedSearchProject]?.documents?.length ? (\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n                  <thead>\n                    <tr style={{ textAlign: \"left\", borderBottom: \"1px solid #eef2f6\" }}>\n                      <th style={{ padding: \"8px 6px\" }}>Type</th>\n                      <th style={{ padding: \"8px 6px\" }}>Version</th>\n                      <th style={{ padding: \"8px 6px\" }}>Approved</th>\n                      <th style={{ padding: \"8px 6px\" }}>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {projects[selectedSearchProject].documents.map((d) => (\n                      <tr key={d.id} style={{ borderBottom: \"1px solid #f3f4f6\" }}>\n                        <td style={{ padding: \"10px 6px\" }}>{d.type}</td>\n                        <td style={{ padding: \"10px 6px\" }}>{d.version}</td>\n                        <td style={{ padding: \"10px 6px\" }}>{d.approved ? \"Yes\" : \"No\"}</td>\n                        <td style={{ padding: \"10px 6px\" }}>\n                          <button onClick={() => handleDownloadDoc(selectedSearchProject, d)} style={{ marginRight: 8, padding: \"6px 10px\", borderRadius: 6, border: \"1px solid #e6e9ef\", background: \"#fff\", cursor: \"pointer\" }}>Download</button>\n                          {!d.approved && <button onClick={() => {\n                            setProjects(prev => {\n                              const copy = { ...prev };\n                              const p = copy[selectedSearchProject];\n                              if (!p) return prev;\n                              const idx = p.documents.findIndex(x => x.id === d.id);\n                              if (idx >= 0) p.documents[idx].approved = true;\n                              copy[selectedSearchProject] = p;\n                              return copy;\n                            });\n                            setMsg(\"Document approved.\");\n                            setTimeout(() => setMsg(\"\"), 1200);\n                          }} style={{ padding: \"6px 10px\", borderRadius: 6, background: \"#047857\", color: \"#fff\", border: \"none\", cursor: \"pointer\" }}>Approve</button>}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              ) : (\n                <p style={{ color: \"#6b7280\" }}>No documents found for this project.</p>\n              )}\n            </div>\n          </div>\n        ) : (\n          <div>\n            <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 20, marginTop: 20 }}>\n              <div style={{ ...cardStyle, padding: 24 }}>\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                  <div>\n                    <div style={{ fontSize: 13, color: \"#6b7280\", fontWeight: 600 }}>Total Projects</div>\n                    <div style={{ marginTop: 8, fontSize: 22, fontWeight: 700, color: \"#111827\" }}>Projects overview</div>\n                  </div>\n                  <div>\n                    <button onClick={handleAddProject} style={{ ...topButton, padding: \"6px 10px\", fontSize: 13 }}>Add</button>\n                  </div>\n                </div>\n\n                <div style={{ marginTop: 18, textAlign: \"center\", paddingTop: 12, borderTop: \"1px solid #eef2f6\" }}>\n                  <div style={{ fontSize: 28, fontWeight: 800 }}>{Object.keys(projects).length || totalProjects}</div>\n                  <div style={{ marginTop: 6, color: \"#6b7280\", fontSize: 13 }}>Total projects</div>\n                </div>\n              </div>\n\n              <div style={{ ...cardStyle, padding: 24 }}>\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                  <div>\n                    <div style={{ fontSize: 13, color: \"#6b7280\", fontWeight: 600 }}>Completed Projects</div>\n                    <div style={{ marginTop: 8, fontSize: 22, fontWeight: 700, color: \"#111827\" }}>Completion status</div>\n                  </div>\n                  <div>\n                    <button onClick={handleCompleteProject} style={{ background: \"#047857\", color: \"#fff\", padding: \"6px 10px\", borderRadius: 8, border: \"none\", cursor: \"pointer\", fontWeight: 600, fontSize: 13 }}>Mark Complete</button>\n                  </div>\n                </div>\n\n                <div style={{ marginTop: 18, textAlign: \"center\", paddingTop: 12, borderTop: \"1px solid #eef2f6\" }}>\n                  <div style={{ fontSize: 28, fontWeight: 800, color: \"#059669\" }}>{completedProjects}</div>\n                  <div style={{ marginTop: 6, color: \"#6b7280\", fontSize: 13 }}>Completed projects</div>\n                </div>\n              </div>\n            </div>\n\n            <div style={{ marginTop: 20 }}>\n              <div style={{ fontWeight: 700, marginBottom: 8 }}>Recent Projects</div>\n              <div style={{ display: \"flex\", gap: 12, flexWrap: \"wrap\" }}>\n                {Object.keys(projects).length ? Object.keys(projects).map(k => (\n                  <div key={k} style={{ background: \"#fff\", padding: 12, borderRadius: 8, boxShadow: \"0 4px 12px rgba(16,24,40,0.04)\", minWidth: 200 }}>\n                    <div style={{ fontWeight: 700 }}>{k}</div>\n                    <div style={{ marginTop: 8 }}>\n                      <button onClick={() => { setSelectedSearchProject(k); setSearchTerm(k); }} style={{ padding: \"6px 10px\", borderRadius: 6, border: \"1px solid #e6e9ef\", background: \"#fff\", cursor: \"pointer\" }}>Open</button>\n                    </div>\n                  </div>\n                )) : <p style={{ color: \"#6b7280\" }}>No projects yet. Create one with + New Project.</p>}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {msg && <div style={{ position: \"fixed\", bottom: 20, right: 20, background: \"#111827\", color: \"#fff\", padding: \"10px 14px\", borderRadius: 8 }}>{msg}</div>}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}